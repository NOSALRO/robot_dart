
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Konstantinos Chatzilygeroudis, Dionis Totsila, Jean-Baptiste Mouret">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.3.8">
    
    
      
        <title>FAQ - Documentation of RobotDART</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.1d29e8d0.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="pink">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#frequently-asked-questions" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Documentation of RobotDART" class="md-header__button md-logo" aria-label="Documentation of RobotDART" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a2 2 0 0 1 2 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 0 1 7 7h1a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v1a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-1H2a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h1a7 7 0 0 1 7-7h1V5.73c-.6-.34-1-.99-1-1.73a2 2 0 0 1 2-2M7.5 13A2.5 2.5 0 0 0 5 15.5 2.5 2.5 0 0 0 7.5 18a2.5 2.5 0 0 0 2.5-2.5A2.5 2.5 0 0 0 7.5 13m9 0a2.5 2.5 0 0 0-2.5 2.5 2.5 2.5 0 0 0 2.5 2.5 2.5 2.5 0 0 0 2.5-2.5 2.5 2.5 0 0 0-2.5-2.5Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Documentation of RobotDART
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              FAQ
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="pink"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1Z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="pink"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/resibots/robot_dart" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    resibots/robot_dart
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href=".." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../robots/" class="md-tabs__link">
      Supported robots
    </a>
  </li>

      
        
  
  
    
  


  <li class="md-tabs__item">
    <a href="./" class="md-tabs__link md-tabs__link--active">
      FAQ
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../install/" class="md-tabs__link">
      Install
    </a>
  </li>

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
                
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" hidden>
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Documentation of RobotDART" class="md-nav__button md-logo" aria-label="Documentation of RobotDART" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a2 2 0 0 1 2 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 0 1 7 7h1a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v1a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-1H2a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h1a7 7 0 0 1 7-7h1V5.73c-.6-.34-1-.99-1-1.73a2 2 0 0 1 2-2M7.5 13A2.5 2.5 0 0 0 5 15.5 2.5 2.5 0 0 0 7.5 18a2.5 2.5 0 0 0 2.5-2.5A2.5 2.5 0 0 0 7.5 13m9 0a2.5 2.5 0 0 0-2.5 2.5 2.5 2.5 0 0 0 2.5 2.5 2.5 2.5 0 0 0 2.5-2.5 2.5 2.5 0 0 0-2.5-2.5Z"/></svg>

    </a>
    Documentation of RobotDART
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/resibots/robot_dart" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    resibots/robot_dart
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../robots/" class="md-nav__link">
        Supported robots
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          FAQ
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        FAQ
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-is-a-minimal-working-example-of-robotdart" class="md-nav__link">
    What is a minimal working example of RobotDART?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-robots-are-supported-in-robotdart" class="md-nav__link">
    What robots are supported in RobotDART?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-can-i-load-my-own-urdfsdfskelmjcf-file" class="md-nav__link">
    How can I load my own URDF/SDF/SKEL/MJCF file?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-do-i-enable-graphics-in-my-code" class="md-nav__link">
    How do I enable graphics in my code?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#i-want-to-have-multiple-camera-sensors-is-it-possible" class="md-nav__link">
    I want to have multiple camera sensors. Is it possible?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-do-i-record-a-video" class="md-nav__link">
    How do I record a video?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-can-i-position-a-camera-to-the-environment" class="md-nav__link">
    How can I position a camera to the environment?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-can-i-attach-a-camera-to-a-moving-link" class="md-nav__link">
    How can I attach a camera to a moving link?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-can-i-manipulate-the-camera-object" class="md-nav__link">
    How can I manipulate the camera object?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-can-i-interact-with-the-camera" class="md-nav__link">
    How can I interact with the camera?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-do-the-numbers-in-the-status-bar-mean" class="md-nav__link">
    What do the numbers in the status bar mean?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-can-i-alter-the-graphics-scene-eg-change-lighting-conditions" class="md-nav__link">
    How can I alter the graphics scene (e.g., change lighting conditions)?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#i-want-to-visualize-a-target-configuration-of-my-robot-is-this-possible" class="md-nav__link">
    I want to visualize a target configuration of my robot, is this possible?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-can-i-control-my-robot-can-i-have-a-position-velocity-torque-controlled-robot" class="md-nav__link">
    How can I control my robot? Can I have a position-,velocity-,torque-controlled robot?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#is-there-a-way-to-control-the-simulation-timestep" class="md-nav__link">
    Is there a way to control the simulation timestep?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#i-want-to-simulate-a-mars-environment-is-it-possible-to-change-the-gravitational-force-of-the-simulation-environment" class="md-nav__link">
    I want to simulate a mars environment, is it possible to change the gravitational force of the simulation environment?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#which-collision-detectors-are-available-what-are-their-differences-how-can-i-choose-between-them" class="md-nav__link">
    Which collision detectors are available? What are their differences? How can I choose between them?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#my-robot-does-not-self-collide-how-can-i-change-this" class="md-nav__link">
    My robot does not self-collide. How can I change this?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-can-i-compute-kinematicdynamic-properties-of-my-robot-eg-jacobians-mass-matrix" class="md-nav__link">
    How can I compute kinematic/dynamic properties of my robot (e.g., Jacobians, Mass Matrix)?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#is-there-a-way-to-change-the-joint-or-link-body-properties-eg-actuation-mass" class="md-nav__link">
    Is there a way to change the joint or link (body) properties (e.g., actuation, mass)?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-are-the-supported-sensors-how-can-i-use-an-imu" class="md-nav__link">
    What are the supported sensors? How can I use an IMU?
  </a>
  
    <nav class="md-nav" aria-label="What are the supported sensors? How can I use an IMU?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#torque-sensor" class="md-nav__link">
    Torque sensor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#force-torque-sensor" class="md-nav__link">
    Force-Torque sensor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#imu-sensor" class="md-nav__link">
    IMU sensor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rgb-sensor" class="md-nav__link">
    RGB sensor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rgb_d-sensor" class="md-nav__link">
    RGB_D sensor
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-can-i-measure-forces-being-applied-to-my-robot" class="md-nav__link">
    How can I measure forces being applied to my robot?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-can-i-spawn-multiple-robots-in-parallel" class="md-nav__link">
    How can I spawn multiple robots in parallel?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#i-need-to-simulate-many-worlds-with-camera-sensors-in-parallel-how-can-i-do-this" class="md-nav__link">
    I need to simulate many worlds with camera sensors in parallel. How can I do this?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#i-do-not-know-how-to-use-waf-how-can-i-detect-robotdart-from-cmake" class="md-nav__link">
    I do not know how to use waf. How can I detect RobotDART from CMake?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#i-prefer-coding-in-python-how-can-i-use-robotdart" class="md-nav__link">
    I prefer coding in python. How can I use RobotDART?
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../install/" class="md-nav__link">
        Install
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
                
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-is-a-minimal-working-example-of-robotdart" class="md-nav__link">
    What is a minimal working example of RobotDART?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-robots-are-supported-in-robotdart" class="md-nav__link">
    What robots are supported in RobotDART?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-can-i-load-my-own-urdfsdfskelmjcf-file" class="md-nav__link">
    How can I load my own URDF/SDF/SKEL/MJCF file?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-do-i-enable-graphics-in-my-code" class="md-nav__link">
    How do I enable graphics in my code?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#i-want-to-have-multiple-camera-sensors-is-it-possible" class="md-nav__link">
    I want to have multiple camera sensors. Is it possible?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-do-i-record-a-video" class="md-nav__link">
    How do I record a video?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-can-i-position-a-camera-to-the-environment" class="md-nav__link">
    How can I position a camera to the environment?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-can-i-attach-a-camera-to-a-moving-link" class="md-nav__link">
    How can I attach a camera to a moving link?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-can-i-manipulate-the-camera-object" class="md-nav__link">
    How can I manipulate the camera object?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-can-i-interact-with-the-camera" class="md-nav__link">
    How can I interact with the camera?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-do-the-numbers-in-the-status-bar-mean" class="md-nav__link">
    What do the numbers in the status bar mean?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-can-i-alter-the-graphics-scene-eg-change-lighting-conditions" class="md-nav__link">
    How can I alter the graphics scene (e.g., change lighting conditions)?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#i-want-to-visualize-a-target-configuration-of-my-robot-is-this-possible" class="md-nav__link">
    I want to visualize a target configuration of my robot, is this possible?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-can-i-control-my-robot-can-i-have-a-position-velocity-torque-controlled-robot" class="md-nav__link">
    How can I control my robot? Can I have a position-,velocity-,torque-controlled robot?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#is-there-a-way-to-control-the-simulation-timestep" class="md-nav__link">
    Is there a way to control the simulation timestep?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#i-want-to-simulate-a-mars-environment-is-it-possible-to-change-the-gravitational-force-of-the-simulation-environment" class="md-nav__link">
    I want to simulate a mars environment, is it possible to change the gravitational force of the simulation environment?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#which-collision-detectors-are-available-what-are-their-differences-how-can-i-choose-between-them" class="md-nav__link">
    Which collision detectors are available? What are their differences? How can I choose between them?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#my-robot-does-not-self-collide-how-can-i-change-this" class="md-nav__link">
    My robot does not self-collide. How can I change this?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-can-i-compute-kinematicdynamic-properties-of-my-robot-eg-jacobians-mass-matrix" class="md-nav__link">
    How can I compute kinematic/dynamic properties of my robot (e.g., Jacobians, Mass Matrix)?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#is-there-a-way-to-change-the-joint-or-link-body-properties-eg-actuation-mass" class="md-nav__link">
    Is there a way to change the joint or link (body) properties (e.g., actuation, mass)?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-are-the-supported-sensors-how-can-i-use-an-imu" class="md-nav__link">
    What are the supported sensors? How can I use an IMU?
  </a>
  
    <nav class="md-nav" aria-label="What are the supported sensors? How can I use an IMU?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#torque-sensor" class="md-nav__link">
    Torque sensor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#force-torque-sensor" class="md-nav__link">
    Force-Torque sensor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#imu-sensor" class="md-nav__link">
    IMU sensor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rgb-sensor" class="md-nav__link">
    RGB sensor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rgb_d-sensor" class="md-nav__link">
    RGB_D sensor
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-can-i-measure-forces-being-applied-to-my-robot" class="md-nav__link">
    How can I measure forces being applied to my robot?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-can-i-spawn-multiple-robots-in-parallel" class="md-nav__link">
    How can I spawn multiple robots in parallel?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#i-need-to-simulate-many-worlds-with-camera-sensors-in-parallel-how-can-i-do-this" class="md-nav__link">
    I need to simulate many worlds with camera sensors in parallel. How can I do this?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#i-do-not-know-how-to-use-waf-how-can-i-detect-robotdart-from-cmake" class="md-nav__link">
    I do not know how to use waf. How can I detect RobotDART from CMake?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#i-prefer-coding-in-python-how-can-i-use-robotdart" class="md-nav__link">
    I prefer coding in python. How can I use RobotDART?
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
  <a href="https://github.com/resibots/robot_dart/edit/master/docs/faq.md" title="Edit this page" class="md-content__button md-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>



<h1 id="frequently-asked-questions"><strong>Frequently Asked Questions</strong><a class="headerlink" href="#frequently-asked-questions" title="Permanent link">&para;</a></h1>
<p>This pages provides a user guide of the library through Frequently Asked Questions (FAQ).</p>
<h2 id="what-is-a-minimal-working-example-of-robotdart"><strong>What is a minimal working example of RobotDART?</strong><a class="headerlink" href="#what-is-a-minimal-working-example-of-robotdart" title="Permanent link">&para;</a></h2>
<p>You can find a minimal working example at <a href="https://github.com/resibots/robot_dart/blob/master/src/examples/hello_world.cpp">hello_world.cpp</a>. This example is creating a world where a hexapod robot is placed just above a floor and left to fall. The robot has no actuation, and there is the simplest graphics configuration. Let's split it down.</p>
<ul>
<li>
<p>We first include the appropriate files:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;robot_dart/robot_dart_simu.hpp&gt;</span><span class="cp"></span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="cp">#ifdef GRAPHIC</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;robot_dart/gui/magnum/graphics.hpp&gt;</span><span class="cp"></span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="cp">#endif</span>
</code></pre></div>
</li>
<li>
<p>We then load our hexapod robot:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="k">auto</span><span class="w"> </span><span class="n">robot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">make_shared</span><span class="o">&lt;</span><span class="n">robot_dart</span><span class="o">::</span><span class="n">Robot</span><span class="o">&gt;</span><span class="p">(</span><span class="s">&quot;pexod.urdf&quot;</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
</li>
<li>
<p>We need to place it above the floor to avoid collision (we can use RobotDART's helpers ;)):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="n">robot</span><span class="o">-&gt;</span><span class="n">set_base_pose</span><span class="p">(</span><span class="n">robot_dart</span><span class="o">::</span><span class="n">make_tf</span><span class="p">({</span><span class="mf">0.</span><span class="p">,</span><span class="w"> </span><span class="mf">0.</span><span class="p">,</span><span class="w"> </span><span class="mf">0.2</span><span class="p">}));</span><span class="w"></span>
</code></pre></div>
</li>
<li>
<p>We can now create the simulation object and add the robot and the floor:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="n">robot_dart</span><span class="o">::</span><span class="n">RobotDARTSimu</span><span class="w"> </span><span class="nf">simu</span><span class="p">(</span><span class="mf">0.001</span><span class="p">);</span><span class="w"> </span><span class="c1">// dt=0.001, 1KHz simulation</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="n">simu</span><span class="p">.</span><span class="n">add_floor</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="n">simu</span><span class="p">.</span><span class="n">add_robot</span><span class="p">(</span><span class="n">robot</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
</li>
<li>
<p>If needed or wanted, we can add a graphics component to visualize the scene:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="k">auto</span><span class="w"> </span><span class="n">graphics</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">make_shared</span><span class="o">&lt;</span><span class="n">robot_dart</span><span class="o">::</span><span class="n">gui</span><span class="o">::</span><span class="n">magnum</span><span class="o">::</span><span class="n">Graphics</span><span class="o">&gt;</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="n">simu</span><span class="p">.</span><span class="n">set_graphics</span><span class="p">(</span><span class="n">graphics</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="n">graphics</span><span class="o">-&gt;</span><span class="n">look_at</span><span class="p">({</span><span class="mf">0.5</span><span class="p">,</span><span class="w"> </span><span class="mf">3.</span><span class="p">,</span><span class="w"> </span><span class="mf">0.75</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="mf">0.5</span><span class="p">,</span><span class="w"> </span><span class="mf">0.</span><span class="p">,</span><span class="w"> </span><span class="mf">0.2</span><span class="p">});</span><span class="w"></span>
</code></pre></div>
</li>
<li>
<p>Once everything is configured, we can run our simulation for a few seconds:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="n">simu</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="mf">10.</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
</li>
<li>
<p>Here's how it looks:</p>
</li>
</ul>
<p><img alt="Hello World example" src="../images/FAQ/hello_world.png" style="display: block;margin-left: auto;margin-right: auto;width:70%" />
</details></p>
<h2 id="what-robots-are-supported-in-robotdart"><strong>What robots are supported in RobotDART?</strong><a class="headerlink" href="#what-robots-are-supported-in-robotdart" title="Permanent link">&para;</a></h2>
<p>RobotDART supports any robot that can be described by a URDF, SDF, SKEL or MJCF file. Nevertheless, we have a curated list of robots with edited and optimized models to be used with RobotDART (see the <a href="../robots/">robots page</a> for details and examples).</p>
<h2 id="how-can-i-load-my-own-urdfsdfskelmjcf-file"><strong>How can I load my own URDF/SDF/SKEL/MJCF file?</strong><a class="headerlink" href="#how-can-i-load-my-own-urdfsdfskelmjcf-file" title="Permanent link">&para;</a></h2>
<p>See the <a href="../robots/">robots page</a> for details.</p>
<h2 id="how-do-i-enable-graphics-in-my-code"><strong>How do I enable graphics in my code?</strong><a class="headerlink" href="#how-do-i-enable-graphics-in-my-code" title="Permanent link">&para;</a></h2>
<p>To enable graphics in your code, you need to do the following:</p>
<ul>
<li>Install <a href="http://magnum.graphics">Magnum</a>. See the <a href="../install/">installation page</a> for details.</li>
<li>
<p>Create and set a graphics object in the simulation object. Here's an example:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="k">auto</span><span class="w"> </span><span class="n">graphics</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">make_shared</span><span class="o">&lt;</span><span class="n">robot_dart</span><span class="o">::</span><span class="n">gui</span><span class="o">::</span><span class="n">magnum</span><span class="o">::</span><span class="n">Graphics</span><span class="o">&gt;</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="n">simu</span><span class="p">.</span><span class="n">set_graphics</span><span class="p">(</span><span class="n">graphics</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="n">graphics</span><span class="o">-&gt;</span><span class="n">look_at</span><span class="p">({</span><span class="mf">0.5</span><span class="p">,</span><span class="w"> </span><span class="mf">3.</span><span class="p">,</span><span class="w"> </span><span class="mf">0.75</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="mf">0.5</span><span class="p">,</span><span class="w"> </span><span class="mf">0.</span><span class="p">,</span><span class="w"> </span><span class="mf">0.2</span><span class="p">});</span><span class="w"></span>
</code></pre></div>
</li>
</ul>
<h2 id="i-want-to-have-multiple-camera-sensors-is-it-possible"><strong>I want to have multiple camera sensors. Is it possible?</strong><a class="headerlink" href="#i-want-to-have-multiple-camera-sensors-is-it-possible" title="Permanent link">&para;</a></h2>
<p>Having multiple camera sensors is indeed possible. We can add as many cameras as we wish along the main camera defined in <a href="#how-do-i-record-a-video">How do I record a video</a>:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="c1">// Add camera</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="k">auto</span><span class="w"> </span><span class="n">camera</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">make_shared</span><span class="o">&lt;</span><span class="n">robot_dart</span><span class="o">::</span><span class="n">sensor</span><span class="o">::</span><span class="n">Camera</span><span class="o">&gt;</span><span class="p">(</span><span class="n">graphics</span><span class="o">-&gt;</span><span class="n">magnum_app</span><span class="p">(),</span><span class="w"> </span><span class="mi">256</span><span class="p">,</span><span class="w"> </span><span class="mi">256</span><span class="p">);</span><span class="w"></span>
</code></pre></div></p>
<h2 id="how-do-i-record-a-video"><strong>How do I record a video?</strong><a class="headerlink" href="#how-do-i-record-a-video" title="Permanent link">&para;</a></h2>
<p>In order to record a video of what the main or any other camera "sees", you need to call the function <code>record_video(path)</code> of the graphics class:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="n">graphics</span><span class="o">-&gt;</span><span class="n">record_video</span><span class="p">(</span><span class="s">&quot;talos_dancing.mp4&quot;</span><span class="p">);</span><span class="w"></span>
</code></pre></div></p>
<p>Or the camera class:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="c1">// cameras can also record video</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="n">camera</span><span class="o">-&gt;</span><span class="n">record_video</span><span class="p">(</span><span class="s">&quot;video-camera.mp4&quot;</span><span class="p">);</span><span class="w"></span>
</code></pre></div></p>
<h2 id="how-can-i-position-a-camera-to-the-environment"><strong>How can I position a camera to the environment?</strong><a class="headerlink" href="#how-can-i-position-a-camera-to-the-environment" title="Permanent link">&para;</a></h2>
<p>In order to position a camera inside the world, we need to use the <code>lookAt</code> method of the camera/graphics object:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="c1">// set the position of the camera, and the position where the main camera is looking at</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="n">Eigen</span><span class="o">::</span><span class="n">Vector3d</span><span class="w"> </span><span class="n">cam_pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mf">-0.5</span><span class="p">,</span><span class="w"> </span><span class="mf">-3.</span><span class="p">,</span><span class="w"> </span><span class="mf">0.75</span><span class="p">};</span><span class="w"></span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="n">Eigen</span><span class="o">::</span><span class="n">Vector3d</span><span class="w"> </span><span class="n">cam_looks_at</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mf">0.5</span><span class="p">,</span><span class="w"> </span><span class="mf">0.</span><span class="p">,</span><span class="w"> </span><span class="mf">0.2</span><span class="p">};</span><span class="w"></span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="n">camera</span><span class="o">-&gt;</span><span class="n">look_at</span><span class="p">(</span><span class="n">cam_pos</span><span class="p">,</span><span class="w"> </span><span class="n">cam_looks_at</span><span class="p">);</span><span class="w"></span>
</code></pre></div></p>
<h2 id="how-can-i-attach-a-camera-to-a-moving-link"><strong>How can I attach a camera to a moving link?</strong><a class="headerlink" href="#how-can-i-attach-a-camera-to-a-moving-link" title="Permanent link">&para;</a></h2>
<p>Cameras can be easily attached to a moving link:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="n">Eigen</span><span class="o">::</span><span class="n">Isometry3d</span><span class="w"> </span><span class="n">tf</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="n">tf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Eigen</span><span class="o">::</span><span class="n">AngleAxisd</span><span class="p">(</span><span class="mf">3.14</span><span class="p">,</span><span class="w"> </span><span class="n">Eigen</span><span class="o">::</span><span class="n">Vector3d</span><span class="p">{</span><span class="mf">1.</span><span class="p">,</span><span class="w"> </span><span class="mf">0.</span><span class="p">,</span><span class="w"> </span><span class="mf">0.</span><span class="p">});</span><span class="w"></span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="n">tf</span><span class="w"> </span><span class="o">*=</span><span class="w"> </span><span class="n">Eigen</span><span class="o">::</span><span class="n">AngleAxisd</span><span class="p">(</span><span class="mf">1.57</span><span class="p">,</span><span class="w"> </span><span class="n">Eigen</span><span class="o">::</span><span class="n">Vector3d</span><span class="p">{</span><span class="mf">0.</span><span class="p">,</span><span class="w"> </span><span class="mf">0.</span><span class="p">,</span><span class="w"> </span><span class="mf">1.</span><span class="p">});</span><span class="w"></span>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="n">tf</span><span class="p">.</span><span class="n">translation</span><span class="p">()</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Eigen</span><span class="o">::</span><span class="n">Vector3d</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span><span class="w"> </span><span class="mf">0.</span><span class="p">,</span><span class="w"> </span><span class="mf">0.1</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="n">camera</span><span class="o">-&gt;</span><span class="n">attach_to_body</span><span class="p">(</span><span class="n">robot</span><span class="o">-&gt;</span><span class="n">body_node</span><span class="p">(</span><span class="s">&quot;iiwa_link_ee&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">tf</span><span class="p">);</span><span class="w"> </span><span class="c1">// cameras are looking towards -z by default</span>
</code></pre></div></p>
<h2 id="how-can-i-manipulate-the-camera-object"><strong>How can I manipulate the camera object?</strong><a class="headerlink" href="#how-can-i-manipulate-the-camera-object" title="Permanent link">&para;</a></h2>
<p>Every camera has its own parameters, i.e a Near plane, a far plane, a Field Of View (FOV), a width and a height (that define the aspect ratio), you can manipulate each one separately:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="n">camera</span><span class="o">-&gt;</span><span class="n">camera</span><span class="p">().</span><span class="n">set_far_plane</span><span class="p">(</span><span class="mf">5.f</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="n">camera</span><span class="o">-&gt;</span><span class="n">camera</span><span class="p">().</span><span class="n">set_near_plane</span><span class="p">(</span><span class="mf">0.01f</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="n">camera</span><span class="o">-&gt;</span><span class="n">camera</span><span class="p">().</span><span class="n">set_fov</span><span class="p">(</span><span class="mf">60.0f</span><span class="p">);</span><span class="w"></span>
</code></pre></div></p>
<p>or all at once:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="n">camera</span><span class="o">-&gt;</span><span class="n">camera</span><span class="p">().</span><span class="n">set_camera_params</span><span class="p">(</span><span class="mf">5.</span><span class="p">,</span><span class="w"> </span><span class="c1">// far plane</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="w">    </span><span class="mf">0.01f</span><span class="p">,</span><span class="w"> </span><span class="c1">// near plane</span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="w">    </span><span class="mf">60.0f</span><span class="p">,</span><span class="w"> </span><span class="c1">// field of view</span>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="w">    </span><span class="mi">600</span><span class="p">,</span><span class="w"> </span><span class="c1">// width</span>
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="w">    </span><span class="mi">400</span><span class="w"> </span><span class="c1">// height</span>
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="p">);</span><span class="w"></span>
</code></pre></div></p>
<p>You can find a complete example at <a href="https://github.com/resibots/robot_dart/blob/master/src/examples/cameras.cpp">cameras.cpp</a>.</p>
<h2 id="how-can-i-interact-with-the-camera"><strong>How can I interact with the camera?</strong><a class="headerlink" href="#how-can-i-interact-with-the-camera" title="Permanent link">&para;</a></h2>
<p>We can move translate the cameras with the <code>WASD</code> keys, zoom in and out using the <code>mouse wheel</code> and rotate the camera with holding the <code>left mouse key</code> and moving the mouse.</p>
<h2 id="what-do-the-numbers-in-the-status-bar-mean"><strong>What do the numbers in the status bar mean?</strong><a class="headerlink" href="#what-do-the-numbers-in-the-status-bar-mean" title="Permanent link">&para;</a></h2>
<p>The status bar looks like this:</p>
<p><img alt="Status Bar" src="../images/FAQ/bar.png" style="display: block;margin-left: auto;margin-right: auto;width:70%" /></p>
<p>Where <strong>simulation time</strong> gives us the total simulated time (in seconds), <strong>wall time</strong> gives us the total time (in seconds) that has passed in real-time once we have started simulating. The next number <strong>X.Xx</strong> gives us the real-time factor: for example, <strong>1.1x</strong> means that the simulation runs 1.1 times faster than real-time, whereas <strong>0.7x</strong> means that the simulation runs slower than real-time. The value <strong>it: XX ms</strong> reports the time it took the last iteration (in milliseconds). The last part gives us whether the simulation tries to adhere to real-time or not. <strong>sync</strong> means that RobotDART will slow down the simulation in order for it to be in real-time, whereas <strong>no-sync</strong> means that RobotDART will try to run the simulation as fast as possible.</p>
<h2 id="how-can-i-alter-the-graphics-scene-eg-change-lighting-conditions"><strong>How can I alter the graphics scene (e.g., change lighting conditions)?</strong><a class="headerlink" href="#how-can-i-alter-the-graphics-scene-eg-change-lighting-conditions" title="Permanent link">&para;</a></h2>
<p>When creating a graphics object, you can pass a <code>GraphicsConfiguration</code> object that changes the default values:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="n">robot_dart</span><span class="o">::</span><span class="n">gui</span><span class="o">::</span><span class="n">magnum</span><span class="o">::</span><span class="n">GraphicsConfiguration</span><span class="w"> </span><span class="n">configuration</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="c1">// We can change the width/height of the window (or camera image dimensions)</span>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="n">configuration</span><span class="p">.</span><span class="n">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1280</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="n">configuration</span><span class="p">.</span><span class="n">height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">960</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="n">configuration</span><span class="p">.</span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Graphics Tutorial&quot;</span><span class="p">;</span><span class="w"> </span><span class="c1">// We can set a title for our window</span>
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="c1">// We can change the configuration for shadows</span>
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="n">configuration</span><span class="p">.</span><span class="n">shadowed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a><span class="n">configuration</span><span class="p">.</span><span class="n">transparent_shadows</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a><span class="n">configuration</span><span class="p">.</span><span class="n">shadow_map_size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1024</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a>
<a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a><span class="c1">// We can also alter some specifications for the lighting</span>
<a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a><span class="n">configuration</span><span class="p">.</span><span class="n">max_lights</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span><span class="w"> </span><span class="c1">// maximum number of lights for our scene [default=3]</span>
<a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a><span class="n">configuration</span><span class="p">.</span><span class="n">specular_strength</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.25</span><span class="p">;</span><span class="w"> </span><span class="c1">// strength of the specular component</span>
<a id="__codelineno-14-15" name="__codelineno-14-15" href="#__codelineno-14-15"></a>
<a id="__codelineno-14-16" name="__codelineno-14-16" href="#__codelineno-14-16"></a><span class="c1">// Some extra configuration for the main camera</span>
<a id="__codelineno-14-17" name="__codelineno-14-17" href="#__codelineno-14-17"></a><span class="n">configuration</span><span class="p">.</span><span class="n">draw_main_camera</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-14-18" name="__codelineno-14-18" href="#__codelineno-14-18"></a><span class="n">configuration</span><span class="p">.</span><span class="n">draw_debug</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-14-19" name="__codelineno-14-19" href="#__codelineno-14-19"></a><span class="n">configuration</span><span class="p">.</span><span class="n">draw_text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-14-20" name="__codelineno-14-20" href="#__codelineno-14-20"></a>
<a id="__codelineno-14-21" name="__codelineno-14-21" href="#__codelineno-14-21"></a><span class="c1">// We can also change the background color [default=black]</span>
<a id="__codelineno-14-22" name="__codelineno-14-22" href="#__codelineno-14-22"></a><span class="n">configuration</span><span class="p">.</span><span class="n">bg_color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Eigen</span><span class="o">::</span><span class="n">Vector4d</span><span class="p">{</span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">};</span><span class="w"></span>
<a id="__codelineno-14-23" name="__codelineno-14-23" href="#__codelineno-14-23"></a>
<a id="__codelineno-14-24" name="__codelineno-14-24" href="#__codelineno-14-24"></a><span class="c1">// Create the graphics object with the configuration as parameter</span>
<a id="__codelineno-14-25" name="__codelineno-14-25" href="#__codelineno-14-25"></a><span class="k">auto</span><span class="w"> </span><span class="n">graphics</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">make_shared</span><span class="o">&lt;</span><span class="n">robot_dart</span><span class="o">::</span><span class="n">gui</span><span class="o">::</span><span class="n">magnum</span><span class="o">::</span><span class="n">Graphics</span><span class="o">&gt;</span><span class="p">(</span><span class="n">configuration</span><span class="p">);</span><span class="w"></span>
</code></pre></div></p>
<p>You can disable or enable shadows on the fly as well:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="c1">// Disable shadows</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="n">graphics</span><span class="o">-&gt;</span><span class="n">enable_shadows</span><span class="p">(</span><span class="nb">false</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="n">simu</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="mf">1.</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="c1">// Enable shadows only for non-transparent objects</span>
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="n">graphics</span><span class="o">-&gt;</span><span class="n">enable_shadows</span><span class="p">(</span><span class="nb">true</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="n">simu</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="mf">1.</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="c1">// Enable shadows for transparent objects as well</span>
<a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a><span class="n">graphics</span><span class="o">-&gt;</span><span class="n">enable_shadows</span><span class="p">(</span><span class="nb">true</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a><span class="n">simu</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="mf">1.</span><span class="p">);</span><span class="w"></span>
</code></pre></div></p>
<p>You can also add your own lights. The application by default creates 2 light sources and the maximum number of lights is 3 (you can change this once before the creation of the graphics object via the <code>GraphicsConfiguration</code> object). So usually before you add your lights, you have to clear the default lights:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="c1">// Clear Lights</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="n">graphics</span><span class="o">-&gt;</span><span class="n">clear_lights</span><span class="p">();</span><span class="w"></span>
</code></pre></div></p>
<p>Then you must create a custom light material:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="c1">// Create Light material</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="n">Magnum</span><span class="o">::</span><span class="n">Float</span><span class="w"> </span><span class="n">shininess</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1000.f</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="n">Magnum</span><span class="o">::</span><span class="n">Color4</span><span class="w"> </span><span class="n">white</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mf">1.f</span><span class="p">,</span><span class="w"> </span><span class="mf">1.f</span><span class="p">,</span><span class="w"> </span><span class="mf">1.f</span><span class="p">,</span><span class="w"> </span><span class="mf">1.f</span><span class="p">};</span><span class="w"></span>
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a>
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="c1">// ambient, diffuse, specular</span>
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="k">auto</span><span class="w"> </span><span class="n">custom_material</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">robot_dart</span><span class="o">::</span><span class="n">gui</span><span class="o">::</span><span class="n">magnum</span><span class="o">::</span><span class="n">gs</span><span class="o">::</span><span class="n">Material</span><span class="p">(</span><span class="n">white</span><span class="p">,</span><span class="w"> </span><span class="n">white</span><span class="p">,</span><span class="w"> </span><span class="n">white</span><span class="p">,</span><span class="w"> </span><span class="n">shininess</span><span class="p">);</span><span class="w"></span>
</code></pre></div></p>
<p>Now you can add on ore more of the following lights:</p>
<p><strong>Point Light</strong>:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="c1">// Create point light</span>
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="n">Magnum</span><span class="o">::</span><span class="n">Vector3</span><span class="w"> </span><span class="n">position</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mf">0.f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.f</span><span class="p">,</span><span class="w"> </span><span class="mf">2.f</span><span class="p">};</span><span class="w"></span>
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="n">Magnum</span><span class="o">::</span><span class="n">Float</span><span class="w"> </span><span class="n">intensity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.f</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="n">Magnum</span><span class="o">::</span><span class="n">Vector3</span><span class="w"> </span><span class="n">attenuation_terms</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mf">1.f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.f</span><span class="p">};</span><span class="w"></span>
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="k">auto</span><span class="w"> </span><span class="n">point_light</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">robot_dart</span><span class="o">::</span><span class="n">gui</span><span class="o">::</span><span class="n">magnum</span><span class="o">::</span><span class="n">gs</span><span class="o">::</span><span class="n">create_point_light</span><span class="p">(</span><span class="n">position</span><span class="p">,</span><span class="w"> </span><span class="n">custom_material</span><span class="p">,</span><span class="w"> </span><span class="n">intensity</span><span class="p">,</span><span class="w"> </span><span class="n">attenuation_terms</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a><span class="n">graphics</span><span class="o">-&gt;</span><span class="n">add_light</span><span class="p">(</span><span class="n">point_light</span><span class="p">);</span><span class="w"></span>
</code></pre></div></p>
<p><strong>Spot Light</strong>:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="c1">// Create spot light</span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="n">Magnum</span><span class="o">::</span><span class="n">Vector3</span><span class="w"> </span><span class="n">position</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mf">0.f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.f</span><span class="p">,</span><span class="w"> </span><span class="mf">1.f</span><span class="p">};</span><span class="w"></span>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="n">Magnum</span><span class="o">::</span><span class="n">Vector3</span><span class="w"> </span><span class="n">direction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mf">-1.f</span><span class="p">,</span><span class="w"> </span><span class="mf">-1.f</span><span class="p">,</span><span class="w"> </span><span class="mf">-1.f</span><span class="p">};</span><span class="w"></span>
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="n">Magnum</span><span class="o">::</span><span class="n">Float</span><span class="w"> </span><span class="n">intensity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.f</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="n">Magnum</span><span class="o">::</span><span class="n">Vector3</span><span class="w"> </span><span class="n">attenuation_terms</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mf">1.f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.f</span><span class="p">};</span><span class="w"></span>
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a><span class="n">Magnum</span><span class="o">::</span><span class="n">Float</span><span class="w"> </span><span class="n">spot_exponent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">M_PI</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a><span class="n">Magnum</span><span class="o">::</span><span class="n">Float</span><span class="w"> </span><span class="n">spot_cut_off</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">M_PI</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">8</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a><span class="k">auto</span><span class="w"> </span><span class="n">spot_light</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">robot_dart</span><span class="o">::</span><span class="n">gui</span><span class="o">::</span><span class="n">magnum</span><span class="o">::</span><span class="n">gs</span><span class="o">::</span><span class="n">create_spot_light</span><span class="p">(</span><span class="n">position</span><span class="p">,</span><span class="w"> </span><span class="n">custom_material</span><span class="p">,</span><span class="w"> </span><span class="n">direction</span><span class="p">,</span><span class="w"> </span><span class="n">spot_exponent</span><span class="p">,</span><span class="w"> </span><span class="n">spot_cut_off</span><span class="p">,</span><span class="w"> </span><span class="n">intensity</span><span class="p">,</span><span class="w"> </span><span class="n">attenuation_terms</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a><span class="n">graphics</span><span class="o">-&gt;</span><span class="n">add_light</span><span class="p">(</span><span class="n">spot_light</span><span class="p">);</span><span class="w"></span>
</code></pre></div></p>
<p><strong>Directional Light</strong>:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="c1">// Create directional light</span>
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="n">Magnum</span><span class="o">::</span><span class="n">Vector3</span><span class="w"> </span><span class="n">direction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mf">-1.f</span><span class="p">,</span><span class="w"> </span><span class="mf">-1.f</span><span class="p">,</span><span class="w"> </span><span class="mf">-1.f</span><span class="p">};</span><span class="w"></span>
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="k">auto</span><span class="w"> </span><span class="n">directional_light</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">robot_dart</span><span class="o">::</span><span class="n">gui</span><span class="o">::</span><span class="n">magnum</span><span class="o">::</span><span class="n">gs</span><span class="o">::</span><span class="n">create_directional_light</span><span class="p">(</span><span class="n">direction</span><span class="p">,</span><span class="w"> </span><span class="n">custom_material</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="n">graphics</span><span class="o">-&gt;</span><span class="n">add_light</span><span class="p">(</span><span class="n">directional_light</span><span class="p">);</span><span class="w"></span>
</code></pre></div></p>
<h2 id="i-want-to-visualize-a-target-configuration-of-my-robot-is-this-possible"><strong>I want to visualize a target configuration of my robot, is this possible?</strong><a class="headerlink" href="#i-want-to-visualize-a-target-configuration-of-my-robot-is-this-possible" title="Permanent link">&para;</a></h2>
<p>Yes this is possible. RobotDART gives the ability to create a clone of your robot that has no physics, no contacts, just visuals:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="c1">// Add a ghost robot; only visuals, no dynamics, no collision</span>
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="k">auto</span><span class="w"> </span><span class="n">ghost</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">robot</span><span class="o">-&gt;</span><span class="n">clone_ghost</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="n">simu</span><span class="p">.</span><span class="n">add_robot</span><span class="p">(</span><span class="n">ghost</span><span class="p">);</span><span class="w"></span>
</code></pre></div></p>
<h2 id="how-can-i-control-my-robot-can-i-have-a-position-velocity-torque-controlled-robot"><strong>How can I control my robot? Can I have a position-,velocity-,torque-controlled robot?</strong><a class="headerlink" href="#how-can-i-control-my-robot-can-i-have-a-position-velocity-torque-controlled-robot" title="Permanent link">&para;</a></h2>
<h2 id="is-there-a-way-to-control-the-simulation-timestep"><strong>Is there a way to control the simulation timestep?</strong><a class="headerlink" href="#is-there-a-way-to-control-the-simulation-timestep" title="Permanent link">&para;</a></h2>
<p>When creating a RobotDARTSimu object you choose the simulation timestep:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="c1">// choose time step of 0.001 seconds</span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="n">robot_dart</span><span class="o">::</span><span class="n">RobotDARTSimu</span><span class="w"> </span><span class="nf">simu</span><span class="p">(</span><span class="mf">0.001</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
which can later be modified by:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="c1">// set timestep to 0.005 and update control frequency(bool)</span>
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="n">simu</span><span class="p">.</span><span class="n">set_timestep</span><span class="p">(</span><span class="mf">0.005</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span><span class="w"></span>
</code></pre></div></p>
<h2 id="i-want-to-simulate-a-mars-environment-is-it-possible-to-change-the-gravitational-force-of-the-simulation-environment"><strong>I want to simulate a mars environment, is it possible to change the gravitational force of the simulation environment?</strong><a class="headerlink" href="#i-want-to-simulate-a-mars-environment-is-it-possible-to-change-the-gravitational-force-of-the-simulation-environment" title="Permanent link">&para;</a></h2>
<p>Yes you can modify the gravitational forces 3-dimensional vector of the simulation:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="c1">// Set gravitational force of mars</span>
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="n">Eigen</span><span class="o">::</span><span class="n">Vector3d</span><span class="w"> </span><span class="n">mars_gravity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mf">0.</span><span class="p">,</span><span class="w"> </span><span class="mf">0.</span><span class="p">,</span><span class="w"> </span><span class="mf">-3.721</span><span class="p">};</span><span class="w"></span>
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="n">simu</span><span class="p">.</span><span class="n">set_gravity</span><span class="p">(</span><span class="n">mars_gravity</span><span class="p">);</span><span class="w"></span>
</code></pre></div></p>
<h2 id="which-collision-detectors-are-available-what-are-their-differences-how-can-i-choose-between-them"><strong>Which collision detectors are available? What are their differences? How can I choose between them?</strong><a class="headerlink" href="#which-collision-detectors-are-available-what-are-their-differences-how-can-i-choose-between-them" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>DART</th>
<th>FCL</th>
<th>ODE</th>
<th>Bullet</th>
</tr>
</thead>
<tbody>
<tr>
<td>Support only basic shapes</td>
<td>Full-featured collision detector fully integrated by DART</td>
<td>External collision detector of ODE</td>
<td>External collision detector of Bullet</td>
</tr>
<tr>
<td>This is building along with DART</td>
<td>This is a required dependency of DART</td>
<td>Needs an external library</td>
<td>Needs an external library</td>
</tr>
<tr>
<td>Very fast for small scenes</td>
<td>Accurate detailed collisions, but not very fast</td>
<td>Fast collision detection (the integration is not complete)</td>
<td>Fast and accurate collision detection (works well for wheels as well)</td>
</tr>
</tbody>
</table>
<p>We can easily select one of the available collision detectors using the simulator object:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="n">simu</span><span class="p">.</span><span class="n">set_collision_detector</span><span class="p">(</span><span class="s">&quot;fcl&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// collision_detector can be &quot;dart&quot;, &quot;fcl&quot;, &quot;ode&quot; or &quot;bullet&quot; (case does not matter)</span>
</code></pre></div></p>
<h2 id="my-robot-does-not-self-collide-how-can-i-change-this"><strong>My robot does not self-collide. How can I change this?</strong><a class="headerlink" href="#my-robot-does-not-self-collide-how-can-i-change-this" title="Permanent link">&para;</a></h2>
<p>One possible cause may be the fact that self collision is disabled, you can check and change this:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">robot</span><span class="o">-&gt;</span><span class="n">self_colliding</span><span class="p">())</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Self collision is not enabled&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="w">    </span><span class="c1">// set self collisions to true and adjacent collisions to false</span>
<a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a><span class="w">    </span><span class="n">robot</span><span class="o">-&gt;</span><span class="n">set_self_collision</span><span class="p">(</span><span class="nb">true</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a><span class="p">}</span><span class="w"></span>
</code></pre></div></p>
<h2 id="how-can-i-compute-kinematicdynamic-properties-of-my-robot-eg-jacobians-mass-matrix"><strong>How can I compute kinematic/dynamic properties of my robot (e.g., Jacobians, Mass Matrix)?</strong><a class="headerlink" href="#how-can-i-compute-kinematicdynamic-properties-of-my-robot-eg-jacobians-mass-matrix" title="Permanent link">&para;</a></h2>
<p><strong>Kinematic Properties:</strong>
    <div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="c1">// Get Joint Positions(Angles)</span>
<a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="k">auto</span><span class="w"> </span><span class="n">joint_positions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">robot</span><span class="o">-&gt;</span><span class="n">positions</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a>
<a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a><span class="c1">// Get Joint Velocities</span>
<a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a><span class="k">auto</span><span class="w"> </span><span class="n">joint_vels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">robot</span><span class="o">-&gt;</span><span class="n">velocities</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a>
<a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a><span class="c1">// Get Joint Accelerations</span>
<a id="__codelineno-27-8" name="__codelineno-27-8" href="#__codelineno-27-8"></a><span class="k">auto</span><span class="w"> </span><span class="n">joint_accs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">robot</span><span class="o">-&gt;</span><span class="n">accelerations</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-27-9" name="__codelineno-27-9" href="#__codelineno-27-9"></a>
<a id="__codelineno-27-10" name="__codelineno-27-10" href="#__codelineno-27-10"></a><span class="c1">// Get link_name(str) Transformation matrix with respect to the world frame.</span>
<a id="__codelineno-27-11" name="__codelineno-27-11" href="#__codelineno-27-11"></a><span class="k">auto</span><span class="w"> </span><span class="n">eef_tf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">robot</span><span class="o">-&gt;</span><span class="n">body_pose</span><span class="p">(</span><span class="n">link_name</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-27-12" name="__codelineno-27-12" href="#__codelineno-27-12"></a>
<a id="__codelineno-27-13" name="__codelineno-27-13" href="#__codelineno-27-13"></a><span class="c1">// Get translation vector from transformation matrix</span>
<a id="__codelineno-27-14" name="__codelineno-27-14" href="#__codelineno-27-14"></a><span class="k">auto</span><span class="w"> </span><span class="n">eef_pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">eef_tf</span><span class="p">.</span><span class="n">translation</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-27-15" name="__codelineno-27-15" href="#__codelineno-27-15"></a>
<a id="__codelineno-27-16" name="__codelineno-27-16" href="#__codelineno-27-16"></a><span class="c1">// Get rotation matrix from tranformation matrix</span>
<a id="__codelineno-27-17" name="__codelineno-27-17" href="#__codelineno-27-17"></a><span class="k">auto</span><span class="w"> </span><span class="n">eef_rot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">eef_tf</span><span class="p">.</span><span class="n">rotation</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-27-18" name="__codelineno-27-18" href="#__codelineno-27-18"></a>
<a id="__codelineno-27-19" name="__codelineno-27-19" href="#__codelineno-27-19"></a><span class="c1">// Get link_name 6d pose vector [logmap(eef_tf.linear()), eef_tf.translation()]</span>
<a id="__codelineno-27-20" name="__codelineno-27-20" href="#__codelineno-27-20"></a><span class="k">auto</span><span class="w"> </span><span class="n">eef_pose_vec</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">robot</span><span class="o">-&gt;</span><span class="n">body_pose_vec</span><span class="p">(</span><span class="n">link_name</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-27-21" name="__codelineno-27-21" href="#__codelineno-27-21"></a>
<a id="__codelineno-27-22" name="__codelineno-27-22" href="#__codelineno-27-22"></a><span class="c1">// Get link_name 6d velocity vector [angular, cartesian]</span>
<a id="__codelineno-27-23" name="__codelineno-27-23" href="#__codelineno-27-23"></a><span class="k">auto</span><span class="w"> </span><span class="n">eef_vel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">robot</span><span class="o">-&gt;</span><span class="n">body_velocity</span><span class="p">(</span><span class="n">link_name</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-27-24" name="__codelineno-27-24" href="#__codelineno-27-24"></a>
<a id="__codelineno-27-25" name="__codelineno-27-25" href="#__codelineno-27-25"></a><span class="c1">// Get link_name 6d acceleration vector [angular, cartesian]</span>
<a id="__codelineno-27-26" name="__codelineno-27-26" href="#__codelineno-27-26"></a><span class="k">auto</span><span class="w"> </span><span class="n">eef_acc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">robot</span><span class="o">-&gt;</span><span class="n">body_acceleration</span><span class="p">(</span><span class="n">link_name</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-27-27" name="__codelineno-27-27" href="#__codelineno-27-27"></a>
<a id="__codelineno-27-28" name="__codelineno-27-28" href="#__codelineno-27-28"></a><span class="c1">// Jacobian targeting the origin of link_name(str)</span>
<a id="__codelineno-27-29" name="__codelineno-27-29" href="#__codelineno-27-29"></a><span class="k">auto</span><span class="w"> </span><span class="n">jacobian</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">robot</span><span class="o">-&gt;</span><span class="n">jacobian</span><span class="p">(</span><span class="n">link_name</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-27-30" name="__codelineno-27-30" href="#__codelineno-27-30"></a>
<a id="__codelineno-27-31" name="__codelineno-27-31" href="#__codelineno-27-31"></a><span class="c1">// Jacobian time derivative</span>
<a id="__codelineno-27-32" name="__codelineno-27-32" href="#__codelineno-27-32"></a><span class="k">auto</span><span class="w"> </span><span class="n">jacobian_deriv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">robot</span><span class="o">-&gt;</span><span class="n">jacobian_deriv</span><span class="p">(</span><span class="n">link_name</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-27-33" name="__codelineno-27-33" href="#__codelineno-27-33"></a>
<a id="__codelineno-27-34" name="__codelineno-27-34" href="#__codelineno-27-34"></a><span class="c1">// Center of Mass Jacobian</span>
<a id="__codelineno-27-35" name="__codelineno-27-35" href="#__codelineno-27-35"></a><span class="k">auto</span><span class="w"> </span><span class="n">com_jacobian</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">robot</span><span class="o">-&gt;</span><span class="n">com_jacobian</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-27-36" name="__codelineno-27-36" href="#__codelineno-27-36"></a>
<a id="__codelineno-27-37" name="__codelineno-27-37" href="#__codelineno-27-37"></a><span class="c1">// Center of Mass Jacobian Time Derivative</span>
<a id="__codelineno-27-38" name="__codelineno-27-38" href="#__codelineno-27-38"></a><span class="k">auto</span><span class="w"> </span><span class="n">com_jacobian_deriv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">robot</span><span class="o">-&gt;</span><span class="n">com_jacobian_deriv</span><span class="p">();</span><span class="w"></span>
</code></pre></div></p>
<p><strong>Dynamic Properties:</strong>
    <div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="c1">// Get Joint Forces</span>
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="k">auto</span><span class="w"> </span><span class="n">joint_forces</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">robot</span><span class="o">-&gt;</span><span class="n">forces</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a>
<a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a><span class="c1">// Get link&#39;s mass</span>
<a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="k">auto</span><span class="w"> </span><span class="n">eef_mass</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">robot</span><span class="o">-&gt;</span><span class="n">body_mass</span><span class="p">(</span><span class="n">link_name</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a>
<a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a><span class="c1">// Mass Matrix of robot</span>
<a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a><span class="k">auto</span><span class="w"> </span><span class="n">mass_matrix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">robot</span><span class="o">-&gt;</span><span class="n">mass_matrix</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a>
<a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a><span class="c1">// Inverse of Mass Matrix</span>
<a id="__codelineno-28-11" name="__codelineno-28-11" href="#__codelineno-28-11"></a><span class="k">auto</span><span class="w"> </span><span class="n">inv_mass_matrix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">robot</span><span class="o">-&gt;</span><span class="n">inv_mass_matrix</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-28-12" name="__codelineno-28-12" href="#__codelineno-28-12"></a>
<a id="__codelineno-28-13" name="__codelineno-28-13" href="#__codelineno-28-13"></a><span class="c1">// Augmented Mass matrix</span>
<a id="__codelineno-28-14" name="__codelineno-28-14" href="#__codelineno-28-14"></a><span class="k">auto</span><span class="w"> </span><span class="n">aug_mass_matrix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">robot</span><span class="o">-&gt;</span><span class="n">aug_mass_matrix</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-28-15" name="__codelineno-28-15" href="#__codelineno-28-15"></a>
<a id="__codelineno-28-16" name="__codelineno-28-16" href="#__codelineno-28-16"></a><span class="c1">// Inverse of Augmented Mass matrix</span>
<a id="__codelineno-28-17" name="__codelineno-28-17" href="#__codelineno-28-17"></a><span class="k">auto</span><span class="w"> </span><span class="n">inv_aug_mass_matrix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">robot</span><span class="o">-&gt;</span><span class="n">inv_aug_mass_matrix</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-28-18" name="__codelineno-28-18" href="#__codelineno-28-18"></a>
<a id="__codelineno-28-19" name="__codelineno-28-19" href="#__codelineno-28-19"></a><span class="c1">// Coriolis Force vector</span>
<a id="__codelineno-28-20" name="__codelineno-28-20" href="#__codelineno-28-20"></a><span class="k">auto</span><span class="w"> </span><span class="n">coriolis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">robot</span><span class="o">-&gt;</span><span class="n">coriolis_forces</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-28-21" name="__codelineno-28-21" href="#__codelineno-28-21"></a>
<a id="__codelineno-28-22" name="__codelineno-28-22" href="#__codelineno-28-22"></a><span class="c1">// Gravity Force vector</span>
<a id="__codelineno-28-23" name="__codelineno-28-23" href="#__codelineno-28-23"></a><span class="k">auto</span><span class="w"> </span><span class="n">gravity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">robot</span><span class="o">-&gt;</span><span class="n">gravity_forces</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-28-24" name="__codelineno-28-24" href="#__codelineno-28-24"></a>
<a id="__codelineno-28-25" name="__codelineno-28-25" href="#__codelineno-28-25"></a><span class="c1">// Combined vector of Coriolis Force and Gravity Force</span>
<a id="__codelineno-28-26" name="__codelineno-28-26" href="#__codelineno-28-26"></a><span class="k">auto</span><span class="w"> </span><span class="n">coriolis_gravity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">robot</span><span class="o">-&gt;</span><span class="n">coriolis_gravity_forces</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-28-27" name="__codelineno-28-27" href="#__codelineno-28-27"></a>
<a id="__codelineno-28-28" name="__codelineno-28-28" href="#__codelineno-28-28"></a><span class="c1">// Constraint Force Vector</span>
<a id="__codelineno-28-29" name="__codelineno-28-29" href="#__codelineno-28-29"></a><span class="k">auto</span><span class="w"> </span><span class="n">constraint_forces</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">robot</span><span class="o">-&gt;</span><span class="n">constraint_forces</span><span class="p">();</span><span class="w"></span>
</code></pre></div></p>
<h2 id="is-there-a-way-to-change-the-joint-or-link-body-properties-eg-actuation-mass"><strong>Is there a way to change the joint or link (body) properties (e.g., actuation, mass)?</strong><a class="headerlink" href="#is-there-a-way-to-change-the-joint-or-link-body-properties-eg-actuation-mass" title="Permanent link">&para;</a></h2>
<p>There are 6 types of actuators available, you can set the same actuator to multiple joints at once, or you can set each sensor separately:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="c1">// Set all DoFs to same actuator</span>
<a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a><span class="n">robot</span><span class="o">-&gt;</span><span class="n">set_actuator_types</span><span class="p">(</span><span class="s">&quot;servo&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// actuator types can be &quot;servo&quot;, &quot;torque&quot;, &quot;velocity&quot;, &quot;passive&quot;, &quot;locked&quot;, &quot;mimic&quot;</span>
<a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a><span class="c1">// You can also set actuator types separately</span>
<a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a><span class="n">robot</span><span class="o">-&gt;</span><span class="n">set_actuator_type</span><span class="p">(</span><span class="s">&quot;torque&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;iiwa_joint_5&quot;</span><span class="p">);</span><span class="w"></span>
</code></pre></div></p>
<p>To enable position and velocity limits for the actuators:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="c1">// nforce joint position and velocity limits</span>
<a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a><span class="n">robot</span><span class="o">-&gt;</span><span class="n">set_position_enforced</span><span class="p">(</span><span class="nb">true</span><span class="p">);</span><span class="w"></span>
</code></pre></div></p>
<p>Every DOF's limits (position, velocity, acceleration, force) can be modified:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="c1">// Modify Position Limits</span>
<a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a><span class="n">Eigen</span><span class="o">::</span><span class="n">VectorXd</span><span class="w"> </span><span class="nf">pos_upper_lims</span><span class="p">(</span><span class="mi">7</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a><span class="n">pos_upper_lims</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mf">2.096</span><span class="p">,</span><span class="w"> </span><span class="mf">2.096</span><span class="p">,</span><span class="w"> </span><span class="mf">2.096</span><span class="p">,</span><span class="w"> </span><span class="mf">2.096</span><span class="p">,</span><span class="w"> </span><span class="mf">2.096</span><span class="p">,</span><span class="w"> </span><span class="mf">2.096</span><span class="p">,</span><span class="w"> </span><span class="mf">2.096</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a><span class="n">robot</span><span class="o">-&gt;</span><span class="n">set_position_upper_limits</span><span class="p">(</span><span class="n">pos_upper_lims</span><span class="p">,</span><span class="w"> </span><span class="n">dof_names</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a><span class="n">robot</span><span class="o">-&gt;</span><span class="n">set_position_lower_limits</span><span class="p">(</span><span class="o">-</span><span class="n">pos_upper_lims</span><span class="p">,</span><span class="w"> </span><span class="n">dof_names</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a>
<a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a><span class="c1">// Modify Velocity Limits</span>
<a id="__codelineno-31-8" name="__codelineno-31-8" href="#__codelineno-31-8"></a>
<a id="__codelineno-31-9" name="__codelineno-31-9" href="#__codelineno-31-9"></a><span class="n">Eigen</span><span class="o">::</span><span class="n">VectorXd</span><span class="w"> </span><span class="nf">vel_upper_lims</span><span class="p">(</span><span class="mi">7</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-31-10" name="__codelineno-31-10" href="#__codelineno-31-10"></a><span class="n">vel_upper_lims</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mf">1.5</span><span class="p">,</span><span class="w"> </span><span class="mf">1.5</span><span class="p">,</span><span class="w"> </span><span class="mf">1.5</span><span class="p">,</span><span class="w"> </span><span class="mf">1.5</span><span class="p">,</span><span class="w"> </span><span class="mf">1.5</span><span class="p">,</span><span class="w"> </span><span class="mf">1.5</span><span class="p">,</span><span class="w"> </span><span class="mf">1.5</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-31-11" name="__codelineno-31-11" href="#__codelineno-31-11"></a><span class="n">robot</span><span class="o">-&gt;</span><span class="n">set_velocity_upper_limits</span><span class="p">(</span><span class="n">vel_upper_lims</span><span class="p">,</span><span class="w"> </span><span class="n">dof_names</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-31-12" name="__codelineno-31-12" href="#__codelineno-31-12"></a><span class="n">robot</span><span class="o">-&gt;</span><span class="n">set_velocity_lower_limits</span><span class="p">(</span><span class="o">-</span><span class="n">vel_upper_lims</span><span class="p">,</span><span class="w"> </span><span class="n">dof_names</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-31-13" name="__codelineno-31-13" href="#__codelineno-31-13"></a>
<a id="__codelineno-31-14" name="__codelineno-31-14" href="#__codelineno-31-14"></a><span class="c1">// Modify Force Limits</span>
<a id="__codelineno-31-15" name="__codelineno-31-15" href="#__codelineno-31-15"></a>
<a id="__codelineno-31-16" name="__codelineno-31-16" href="#__codelineno-31-16"></a><span class="n">Eigen</span><span class="o">::</span><span class="n">VectorXd</span><span class="w"> </span><span class="nf">force_upper_lims</span><span class="p">(</span><span class="mi">7</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-31-17" name="__codelineno-31-17" href="#__codelineno-31-17"></a><span class="n">force_upper_lims</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w"> </span><span class="mi">150</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-31-18" name="__codelineno-31-18" href="#__codelineno-31-18"></a><span class="n">robot</span><span class="o">-&gt;</span><span class="n">set_force_upper_limits</span><span class="p">(</span><span class="n">force_upper_lims</span><span class="p">,</span><span class="w"> </span><span class="n">dof_names</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-31-19" name="__codelineno-31-19" href="#__codelineno-31-19"></a><span class="n">robot</span><span class="o">-&gt;</span><span class="n">set_force_lower_limits</span><span class="p">(</span><span class="o">-</span><span class="n">force_upper_lims</span><span class="p">,</span><span class="w"> </span><span class="n">dof_names</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-31-20" name="__codelineno-31-20" href="#__codelineno-31-20"></a>
<a id="__codelineno-31-21" name="__codelineno-31-21" href="#__codelineno-31-21"></a><span class="c1">// Modify Acceleration Limits</span>
<a id="__codelineno-31-22" name="__codelineno-31-22" href="#__codelineno-31-22"></a><span class="n">Eigen</span><span class="o">::</span><span class="n">VectorXd</span><span class="w"> </span><span class="nf">acc_upper_lims</span><span class="p">(</span><span class="mi">7</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-31-23" name="__codelineno-31-23" href="#__codelineno-31-23"></a><span class="n">acc_upper_lims</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w"> </span><span class="mi">1500</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-31-24" name="__codelineno-31-24" href="#__codelineno-31-24"></a><span class="n">robot</span><span class="o">-&gt;</span><span class="n">set_acceleration_upper_limits</span><span class="p">(</span><span class="n">acc_upper_lims</span><span class="p">,</span><span class="w"> </span><span class="n">dof_names</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-31-25" name="__codelineno-31-25" href="#__codelineno-31-25"></a><span class="n">robot</span><span class="o">-&gt;</span><span class="n">set_acceleration_lower_limits</span><span class="p">(</span><span class="o">-</span><span class="n">acc_upper_lims</span><span class="p">,</span><span class="w"> </span><span class="n">dof_names</span><span class="p">);</span><span class="w"></span>
</code></pre></div></p>
<p>You can also modify the damping coefficients, coulomb frictions and spring stiffness of every DOF:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="c1">// Modify Damping Coefficients</span>
<a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="n">damps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mf">0.4</span><span class="p">,</span><span class="w"> </span><span class="mf">0.4</span><span class="p">,</span><span class="w"> </span><span class="mf">0.4</span><span class="p">,</span><span class="w"> </span><span class="mf">0.4</span><span class="p">,</span><span class="w"> </span><span class="mf">0.4</span><span class="p">,</span><span class="w"> </span><span class="mf">0.4</span><span class="p">,</span><span class="w"> </span><span class="mf">0.4</span><span class="p">};</span><span class="w"></span>
<a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a><span class="n">robot</span><span class="o">-&gt;</span><span class="n">set_damping_coeffs</span><span class="p">(</span><span class="n">damps</span><span class="p">,</span><span class="w"> </span><span class="n">dof_names</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a>
<a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a><span class="c1">// Modify Coulomb Frictions</span>
<a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="n">cfrictions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mf">0.001</span><span class="p">,</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w"> </span><span class="mf">0.001</span><span class="p">};</span><span class="w"></span>
<a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a><span class="n">robot</span><span class="o">-&gt;</span><span class="n">set_coulomb_coeffs</span><span class="p">(</span><span class="n">cfrictions</span><span class="p">,</span><span class="w"> </span><span class="n">dof_names</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a>
<a id="__codelineno-32-9" name="__codelineno-32-9" href="#__codelineno-32-9"></a><span class="c1">// Modify  Spring Stiffness</span>
<a id="__codelineno-32-10" name="__codelineno-32-10" href="#__codelineno-32-10"></a><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="n">stiffnesses</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mf">0.001</span><span class="p">,</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w"> </span><span class="mf">0.001</span><span class="p">};</span><span class="w"></span>
<a id="__codelineno-32-11" name="__codelineno-32-11" href="#__codelineno-32-11"></a><span class="n">robot</span><span class="o">-&gt;</span><span class="n">set_spring_stiffnesses</span><span class="p">(</span><span class="n">stiffnesses</span><span class="p">,</span><span class="w"> </span><span class="n">dof_names</span><span class="p">);</span><span class="w"></span>
</code></pre></div></p>
<h2 id="what-are-the-supported-sensors-how-can-i-use-an-imu"><strong>What are the supported sensors? How can I use an IMU?</strong><a class="headerlink" href="#what-are-the-supported-sensors-how-can-i-use-an-imu" title="Permanent link">&para;</a></h2>
<p>Sensors in RobotDART can be added only through the simulator object. All of the sensors can be added without being attached to any body or joint but some of them can operate only when attached to something (e.g. <code>ForceTorque</code> sensors).</p>
<h4 id="torque-sensor"><strong>Torque sensor</strong><a class="headerlink" href="#torque-sensor" title="Permanent link">&para;</a></h4>
<p>Torque sensors can be added to every joint of the robot:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="c1">// Add torque sensors to the robot</span>
<a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a><span class="kt">int</span><span class="w"> </span><span class="n">ct</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">robot_dart</span><span class="o">::</span><span class="n">sensor</span><span class="o">::</span><span class="n">Torque</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">tq_sensors</span><span class="p">(</span><span class="n">robot</span><span class="o">-&gt;</span><span class="n">num_dofs</span><span class="p">());</span><span class="w"></span>
<a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">joint</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">robot</span><span class="o">-&gt;</span><span class="n">dof_names</span><span class="p">())</span><span class="w"></span>
<a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a><span class="w">    </span><span class="n">tq_sensors</span><span class="p">[</span><span class="n">ct</span><span class="o">++</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">simu</span><span class="p">.</span><span class="n">add_sensor</span><span class="o">&lt;</span><span class="n">robot_dart</span><span class="o">::</span><span class="n">sensor</span><span class="o">::</span><span class="n">Torque</span><span class="o">&gt;</span><span class="p">(</span><span class="n">robot</span><span class="p">,</span><span class="w"> </span><span class="n">joint</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">);</span><span class="w"></span>
</code></pre></div></p>
<p>Torque sensors measure the torque <span class="arithmatex">\(\tau \in \rm I\!R^n\)</span> of the attached joint (where <span class="arithmatex">\(n\)</span> is the DOFs of the joint):
    <div class="highlight"><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="c1">// vector that contains the torque measurement for every joint (scalar)</span>
<a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a><span class="n">Eigen</span><span class="o">::</span><span class="n">VectorXd</span><span class="w"> </span><span class="nf">torques_measure</span><span class="p">(</span><span class="n">robot</span><span class="o">-&gt;</span><span class="n">num_dofs</span><span class="p">());</span><span class="w"></span>
<a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">tq_sens</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">tq_sensors</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a><span class="w">    </span><span class="n">torques_measure</span><span class="p">.</span><span class="n">block</span><span class="o">&lt;</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ct</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tq_sens</span><span class="o">-&gt;</span><span class="n">torques</span><span class="p">();</span><span class="w"></span>
</code></pre></div></p>
<h4 id="force-torque-sensor"><strong>Force-Torque sensor</strong><a class="headerlink" href="#force-torque-sensor" title="Permanent link">&para;</a></h4>
<p>Force-Torque sensors can be added to every joint of the robot:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="c1">// Add force-torque sensors to the robot</span>
<a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a><span class="n">ct</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">robot_dart</span><span class="o">::</span><span class="n">sensor</span><span class="o">::</span><span class="n">ForceTorque</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">f_tq_sensors</span><span class="p">(</span><span class="n">robot</span><span class="o">-&gt;</span><span class="n">num_dofs</span><span class="p">());</span><span class="w"></span>
<a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">joint</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">robot</span><span class="o">-&gt;</span><span class="n">dof_names</span><span class="p">())</span><span class="w"></span>
<a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a><span class="w">    </span><span class="n">f_tq_sensors</span><span class="p">[</span><span class="n">ct</span><span class="o">++</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">simu</span><span class="p">.</span><span class="n">add_sensor</span><span class="o">&lt;</span><span class="n">robot_dart</span><span class="o">::</span><span class="n">sensor</span><span class="o">::</span><span class="n">ForceTorque</span><span class="o">&gt;</span><span class="p">(</span><span class="n">robot</span><span class="p">,</span><span class="w"> </span><span class="n">joint</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;parent_to_child&quot;</span><span class="p">);</span><span class="w"></span>
</code></pre></div></p>
<p>Torque sensors measure the force <span class="arithmatex">\(\boldsymbol{F} \in \rm I\!R^3\)</span>, the torque <span class="arithmatex">\(\boldsymbol{\tau} \in \rm I\!R^3\)</span> and the wrench <span class="arithmatex">\(\boldsymbol{\mathcal{F}} =\begin{bmatrix} \tau, F\end{bmatrix}\in \rm I\!R^6\)</span> of the attached joint:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="c1">//  matrix that contains the torque measurement for every joint (3d vector)</span>
<a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a><span class="n">Eigen</span><span class="o">::</span><span class="n">MatrixXd</span><span class="w"> </span><span class="nf">ft_torques_measure</span><span class="p">(</span><span class="n">robot</span><span class="o">-&gt;</span><span class="n">num_dofs</span><span class="p">(),</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a><span class="c1">//  matrix that contains the force measurement for every joint (3d vector)</span>
<a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a><span class="n">Eigen</span><span class="o">::</span><span class="n">MatrixXd</span><span class="w"> </span><span class="nf">ft_forces_measure</span><span class="p">(</span><span class="n">robot</span><span class="o">-&gt;</span><span class="n">num_dofs</span><span class="p">(),</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a><span class="c1">//  matrix that contains the wrench measurement for every joint (6d vector)[torque, force]</span>
<a id="__codelineno-36-6" name="__codelineno-36-6" href="#__codelineno-36-6"></a><span class="n">Eigen</span><span class="o">::</span><span class="n">MatrixXd</span><span class="w"> </span><span class="nf">ft_wrench_measure</span><span class="p">(</span><span class="n">robot</span><span class="o">-&gt;</span><span class="n">num_dofs</span><span class="p">(),</span><span class="w"> </span><span class="mi">6</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-36-7" name="__codelineno-36-7" href="#__codelineno-36-7"></a><span class="n">ct</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-36-8" name="__codelineno-36-8" href="#__codelineno-36-8"></a><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">f_tq_sens</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">f_tq_sensors</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-36-9" name="__codelineno-36-9" href="#__codelineno-36-9"></a><span class="w">    </span><span class="n">ft_torques_measure</span><span class="p">.</span><span class="n">block</span><span class="o">&lt;</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ct</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f_tq_sens</span><span class="o">-&gt;</span><span class="n">torque</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-36-10" name="__codelineno-36-10" href="#__codelineno-36-10"></a><span class="w">    </span><span class="n">ft_forces_measure</span><span class="p">.</span><span class="n">block</span><span class="o">&lt;</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ct</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f_tq_sens</span><span class="o">-&gt;</span><span class="n">force</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-36-11" name="__codelineno-36-11" href="#__codelineno-36-11"></a><span class="w">    </span><span class="n">ft_wrench_measure</span><span class="p">.</span><span class="n">block</span><span class="o">&lt;</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ct</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f_tq_sens</span><span class="o">-&gt;</span><span class="n">wrench</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-36-12" name="__codelineno-36-12" href="#__codelineno-36-12"></a><span class="w">    </span><span class="n">ct</span><span class="o">++</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-36-13" name="__codelineno-36-13" href="#__codelineno-36-13"></a><span class="p">}</span><span class="w"></span>
</code></pre></div></p>
<h4 id="imu-sensor"><strong>IMU sensor</strong><a class="headerlink" href="#imu-sensor" title="Permanent link">&para;</a></h4>
<p>IMU sensors can be added to every link of the robot:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="c1">// Add IMU sensors to the robot</span>
<a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a><span class="n">ct</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">robot_dart</span><span class="o">::</span><span class="n">sensor</span><span class="o">::</span><span class="n">IMU</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">imu_sensors</span><span class="p">(</span><span class="n">robot</span><span class="o">-&gt;</span><span class="n">num_bodies</span><span class="p">());</span><span class="w"></span>
<a id="__codelineno-37-4" name="__codelineno-37-4" href="#__codelineno-37-4"></a><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">body_node</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">robot</span><span class="o">-&gt;</span><span class="n">body_names</span><span class="p">())</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-37-5" name="__codelineno-37-5" href="#__codelineno-37-5"></a><span class="w">    </span><span class="c1">// _imu(std::make_shared&lt;sensor::IMU&gt;(sensor::IMUConfig(body_node(&quot;head&quot;), frequency))),</span>
<a id="__codelineno-37-6" name="__codelineno-37-6" href="#__codelineno-37-6"></a><span class="w">    </span><span class="n">imu_sensors</span><span class="p">[</span><span class="n">ct</span><span class="o">++</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">simu</span><span class="p">.</span><span class="n">add_sensor</span><span class="o">&lt;</span><span class="n">robot_dart</span><span class="o">::</span><span class="n">sensor</span><span class="o">::</span><span class="n">IMU</span><span class="o">&gt;</span><span class="p">(</span><span class="n">robot_dart</span><span class="o">::</span><span class="n">sensor</span><span class="o">::</span><span class="n">IMUConfig</span><span class="p">(</span><span class="n">robot</span><span class="o">-&gt;</span><span class="n">body_node</span><span class="p">(</span><span class="n">body_node</span><span class="p">),</span><span class="w"> </span><span class="mi">1000</span><span class="p">));</span><span class="w"></span>
<a id="__codelineno-37-7" name="__codelineno-37-7" href="#__codelineno-37-7"></a><span class="p">}</span><span class="w"></span>
</code></pre></div></p>
<p>IMU sensors measure the angular position vector <span class="arithmatex">\(\boldsymbol{\theta} \in \rm I\!R^3\)</span>, the angular velocity <span class="arithmatex">\(\boldsymbol{\omega} \in \rm I\!R^3\)</span>  and the linear acceleration <span class="arithmatex">\(\boldsymbol{\alpha} \in \rm I\!R^3\)</span> of the attached link:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="n">Eigen</span><span class="o">::</span><span class="n">MatrixXd</span><span class="w"> </span><span class="nf">imu_angular_positions_measure</span><span class="p">(</span><span class="n">robot</span><span class="o">-&gt;</span><span class="n">num_bodies</span><span class="p">(),</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a><span class="n">Eigen</span><span class="o">::</span><span class="n">MatrixXd</span><span class="w"> </span><span class="nf">imu_angular_velocities_measure</span><span class="p">(</span><span class="n">robot</span><span class="o">-&gt;</span><span class="n">num_bodies</span><span class="p">(),</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a><span class="n">Eigen</span><span class="o">::</span><span class="n">MatrixXd</span><span class="w"> </span><span class="nf">imu_linear_acceleration_measure</span><span class="p">(</span><span class="n">robot</span><span class="o">-&gt;</span><span class="n">num_bodies</span><span class="p">(),</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a><span class="n">ct</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-38-5" name="__codelineno-38-5" href="#__codelineno-38-5"></a><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">imu_sens</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">imu_sensors</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-38-6" name="__codelineno-38-6" href="#__codelineno-38-6"></a><span class="w">    </span><span class="n">imu_angular_positions_measure</span><span class="p">.</span><span class="n">block</span><span class="o">&lt;</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ct</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">imu_sens</span><span class="o">-&gt;</span><span class="n">angular_position_vec</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-38-7" name="__codelineno-38-7" href="#__codelineno-38-7"></a><span class="w">    </span><span class="n">imu_angular_velocities_measure</span><span class="p">.</span><span class="n">block</span><span class="o">&lt;</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ct</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">imu_sens</span><span class="o">-&gt;</span><span class="n">angular_velocity</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-38-8" name="__codelineno-38-8" href="#__codelineno-38-8"></a><span class="w">    </span><span class="n">imu_linear_acceleration_measure</span><span class="p">.</span><span class="n">block</span><span class="o">&lt;</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ct</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">imu_sens</span><span class="o">-&gt;</span><span class="n">linear_acceleration</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-38-9" name="__codelineno-38-9" href="#__codelineno-38-9"></a><span class="w">    </span><span class="n">ct</span><span class="o">++</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-38-10" name="__codelineno-38-10" href="#__codelineno-38-10"></a><span class="p">}</span><span class="w"></span>
</code></pre></div></p>
<h4 id="rgb-sensor"><strong>RGB sensor</strong><a class="headerlink" href="#rgb-sensor" title="Permanent link">&para;</a></h4>
<p>Any camera can be used as an RGB sensor:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="c1">// a nested std::vector (w*h*3) of the last image taken can be retrieved</span>
<a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a><span class="k">auto</span><span class="w"> </span><span class="n">rgb_image</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">camera</span><span class="o">-&gt;</span><span class="n">image</span><span class="p">();</span><span class="w"></span>
</code></pre></div></p>
<p>We can easily save the image and/or transform it to grayscale:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="c1">// we can also save them to png</span>
<a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a><span class="n">robot_dart</span><span class="o">::</span><span class="n">gui</span><span class="o">::</span><span class="n">save_png_image</span><span class="p">(</span><span class="s">&quot;camera-small.png&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">rgb_image</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-40-3" name="__codelineno-40-3" href="#__codelineno-40-3"></a><span class="c1">// convert an rgb image to grayscale (useful in some cases)</span>
<a id="__codelineno-40-4" name="__codelineno-40-4" href="#__codelineno-40-4"></a><span class="k">auto</span><span class="w"> </span><span class="n">gray_image</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">robot_dart</span><span class="o">::</span><span class="n">gui</span><span class="o">::</span><span class="n">convert_rgb_to_grayscale</span><span class="p">(</span><span class="n">rgb_image</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-40-5" name="__codelineno-40-5" href="#__codelineno-40-5"></a><span class="n">robot_dart</span><span class="o">::</span><span class="n">gui</span><span class="o">::</span><span class="n">save_png_image</span><span class="p">(</span><span class="s">&quot;camera-gray.png&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">gray_image</span><span class="p">);</span><span class="w"></span>
</code></pre></div></p>
<h4 id="rgb_d-sensor"><strong>RGB_D sensor</strong><a class="headerlink" href="#rgb_d-sensor" title="Permanent link">&para;</a></h4>
<p>Any camera can also be configured to also record depth:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="n">camera</span><span class="o">-&gt;</span><span class="n">camera</span><span class="p">().</span><span class="n">record</span><span class="p">(</span><span class="nb">true</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span><span class="w"> </span><span class="c1">// cameras are recording color images by default, enable depth images as well for this example</span>
</code></pre></div></p>
<p>We can then read the RGB and depth images:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a><span class="c1">// get the depth image from a camera</span>
<a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a><span class="c1">// with a version for visualization or bigger differences in the output</span>
<a id="__codelineno-42-3" name="__codelineno-42-3" href="#__codelineno-42-3"></a><span class="k">auto</span><span class="w"> </span><span class="n">rgb_d_image</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">camera</span><span class="o">-&gt;</span><span class="n">depth_image</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-42-4" name="__codelineno-42-4" href="#__codelineno-42-4"></a><span class="c1">// and the raw values that can be used along with the camera parameters to transform the image to point-cloud</span>
<a id="__codelineno-42-5" name="__codelineno-42-5" href="#__codelineno-42-5"></a><span class="k">auto</span><span class="w"> </span><span class="n">rgb_d_image_raw</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">camera</span><span class="o">-&gt;</span><span class="n">raw_depth_image</span><span class="p">();</span><span class="w"></span>
</code></pre></div></p>
<p>We can save the depth images as well:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a><span class="n">robot_dart</span><span class="o">::</span><span class="n">gui</span><span class="o">::</span><span class="n">save_png_image</span><span class="p">(</span><span class="s">&quot;camera-depth.png&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">rgb_d_image</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a><span class="n">robot_dart</span><span class="o">::</span><span class="n">gui</span><span class="o">::</span><span class="n">save_png_image</span><span class="p">(</span><span class="s">&quot;camera-depth-raw.png&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">rgb_d_image_raw</span><span class="p">);</span><span class="w"></span>
</code></pre></div></p>
<h2 id="how-can-i-measure-forces-being-applied-to-my-robot"><strong>How can I measure forces being applied to my robot?</strong><a class="headerlink" href="#how-can-i-measure-forces-being-applied-to-my-robot" title="Permanent link">&para;</a></h2>
<h2 id="how-can-i-spawn-multiple-robots-in-parallel"><strong>How can I spawn multiple robots in parallel?</strong><a class="headerlink" href="#how-can-i-spawn-multiple-robots-in-parallel" title="Permanent link">&para;</a></h2>
<p>The best way to do so is to create a Robot pool. With a robot pool you:</p>
<ul>
<li>Minimize the overhead of loading robots (it happens only once!) or cloning robots (it never happens)</li>
<li>Make sure that your robots are "clean" once released from each thread</li>
<li>Focus on the important stuff rather than handling robots and threads</li>
</ul>
<p>Let's see a more practical example:</p>
<ul>
<li>
<p>First we need to include the proper header:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;robot_dart/robot_pool.hpp&gt;</span><span class="cp"></span>
</code></pre></div>
</li>
<li>
<p>Then we create a <code>creator</code> function and the pool object:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a><span class="k">namespace</span><span class="w"> </span><span class="nn">pool</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a><span class="w">    </span><span class="c1">// This function should load one robot: here we load Talos</span>
<a id="__codelineno-45-3" name="__codelineno-45-3" href="#__codelineno-45-3"></a><span class="w">    </span><span class="kr">inline</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">robot_dart</span><span class="o">::</span><span class="n">Robot</span><span class="o">&gt;</span><span class="w"> </span><span class="n">robot_creator</span><span class="p">()</span><span class="w"></span>
<a id="__codelineno-45-4" name="__codelineno-45-4" href="#__codelineno-45-4"></a><span class="w">    </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-45-5" name="__codelineno-45-5" href="#__codelineno-45-5"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">make_shared</span><span class="o">&lt;</span><span class="n">robot_dart</span><span class="o">::</span><span class="n">robots</span><span class="o">::</span><span class="n">Talos</span><span class="o">&gt;</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-45-6" name="__codelineno-45-6" href="#__codelineno-45-6"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-45-7" name="__codelineno-45-7" href="#__codelineno-45-7"></a>
<a id="__codelineno-45-8" name="__codelineno-45-8" href="#__codelineno-45-8"></a><span class="w">    </span><span class="c1">// To create the object we need to pass the robot_creator function and the number of maximum parallel threads</span>
<a id="__codelineno-45-9" name="__codelineno-45-9" href="#__codelineno-45-9"></a><span class="w">    </span><span class="n">robot_dart</span><span class="o">::</span><span class="n">RobotPool</span><span class="w"> </span><span class="n">robot_pool</span><span class="p">(</span><span class="n">robot_creator</span><span class="p">,</span><span class="w"> </span><span class="n">NUM_THREADS</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-45-10" name="__codelineno-45-10" href="#__codelineno-45-10"></a><span class="p">}</span><span class="w"> </span><span class="c1">// namespace pool</span>
</code></pre></div>
</li>
</ul>
<p>The <code>creator</code> function is the function responsible for loading your robot. This should basically look like a standalone code to load or create a robot.</p>
<ul>
<li>
<p>Next, we create a few threads that utilize the robots (in your code you might be using OpenMP or TBB):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a><span class="c1">// for the example, we run NUM_THREADS threads of eval_robot()</span>
<a id="__codelineno-46-2" name="__codelineno-46-2" href="#__codelineno-46-2"></a><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="kr">thread</span><span class="o">&gt;</span><span class="w"> </span><span class="n">threads</span><span class="p">(</span><span class="n">NUM_THREADS</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span><span class="w"> </span><span class="c1">// *2 to see some reuse</span>
<a id="__codelineno-46-3" name="__codelineno-46-3" href="#__codelineno-46-3"></a><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">threads</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-46-4" name="__codelineno-46-4" href="#__codelineno-46-4"></a><span class="w">    </span><span class="n">threads</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="kr">thread</span><span class="p">(</span><span class="n">eval_robot</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">);</span><span class="w"> </span><span class="c1">// eval_robot is the function that uses the robot</span>
</code></pre></div>
</li>
<li>
<p>An example evaluation function:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a><span class="kr">inline</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">eval_robot</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-47-2" name="__codelineno-47-2" href="#__codelineno-47-2"></a><span class="p">{</span><span class="w"></span>
<a id="__codelineno-47-3" name="__codelineno-47-3" href="#__codelineno-47-3"></a><span class="w">    </span><span class="c1">// We get one available robot</span>
<a id="__codelineno-47-4" name="__codelineno-47-4" href="#__codelineno-47-4"></a><span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">robot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pool</span><span class="o">::</span><span class="n">robot_pool</span><span class="p">.</span><span class="n">get_robot</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-47-5" name="__codelineno-47-5" href="#__codelineno-47-5"></a><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Robot &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; got [&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">robot</span><span class="o">-&gt;</span><span class="n">skeleton</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;]&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-47-6" name="__codelineno-47-6" href="#__codelineno-47-6"></a>
<a id="__codelineno-47-7" name="__codelineno-47-7" href="#__codelineno-47-7"></a><span class="w">    </span><span class="c1">/// --- some robot_dart code ---</span>
<a id="__codelineno-47-8" name="__codelineno-47-8" href="#__codelineno-47-8"></a><span class="w">    </span><span class="n">simulate_robot</span><span class="p">(</span><span class="n">robot</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-47-9" name="__codelineno-47-9" href="#__codelineno-47-9"></a><span class="w">    </span><span class="c1">// --- do something with the result</span>
<a id="__codelineno-47-10" name="__codelineno-47-10" href="#__codelineno-47-10"></a>
<a id="__codelineno-47-11" name="__codelineno-47-11" href="#__codelineno-47-11"></a><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;End of simulation &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-47-12" name="__codelineno-47-12" href="#__codelineno-47-12"></a>
<a id="__codelineno-47-13" name="__codelineno-47-13" href="#__codelineno-47-13"></a><span class="w">    </span><span class="c1">// CRITICAL : free your robot !</span>
<a id="__codelineno-47-14" name="__codelineno-47-14" href="#__codelineno-47-14"></a><span class="w">    </span><span class="n">pool</span><span class="o">::</span><span class="n">robot_pool</span><span class="p">.</span><span class="n">free_robot</span><span class="p">(</span><span class="n">robot</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-47-15" name="__codelineno-47-15" href="#__codelineno-47-15"></a>
<a id="__codelineno-47-16" name="__codelineno-47-16" href="#__codelineno-47-16"></a><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Robot &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; freed!&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-47-17" name="__codelineno-47-17" href="#__codelineno-47-17"></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
</li>
</ul>
<h2 id="i-need-to-simulate-many-worlds-with-camera-sensors-in-parallel-how-can-i-do-this"><strong>I need to simulate many worlds with camera sensors in parallel. How can I do this?</strong><a class="headerlink" href="#i-need-to-simulate-many-worlds-with-camera-sensors-in-parallel-how-can-i-do-this" title="Permanent link">&para;</a></h2>
<p>On <a href="https://github.com/resibots/robot_dart/blob/master/src/examples/magnum_contexts.cpp">magnum_contexts.cpp</a> you can find an example showcasing the use of many worlds with camera sensors in parallel. The main takeaway is that we need to pre-allocate OpenGL contexts so that each thread can take one and use it to render their worlds.
    <div class="highlight"><pre><span></span><code><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a><span class="c1">// Load robot from URDF</span>
<a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a><span class="k">auto</span><span class="w"> </span><span class="n">global_robot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">make_shared</span><span class="o">&lt;</span><span class="n">robot_dart</span><span class="o">::</span><span class="n">robots</span><span class="o">::</span><span class="n">Iiwa</span><span class="o">&gt;</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-48-3" name="__codelineno-48-3" href="#__codelineno-48-3"></a>
<a id="__codelineno-48-4" name="__codelineno-48-4" href="#__codelineno-48-4"></a><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="kr">thread</span><span class="o">&gt;</span><span class="w"> </span><span class="n">workers</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-48-5" name="__codelineno-48-5" href="#__codelineno-48-5"></a>
<a id="__codelineno-48-6" name="__codelineno-48-6" href="#__codelineno-48-6"></a><span class="c1">// Set maximum number of parallel GL contexts (this is GPU-dependent)</span>
<a id="__codelineno-48-7" name="__codelineno-48-7" href="#__codelineno-48-7"></a><span class="n">robot_dart</span><span class="o">::</span><span class="n">gui</span><span class="o">::</span><span class="n">magnum</span><span class="o">::</span><span class="n">GlobalData</span><span class="o">::</span><span class="n">instance</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">set_max_contexts</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-48-8" name="__codelineno-48-8" href="#__codelineno-48-8"></a>
<a id="__codelineno-48-9" name="__codelineno-48-9" href="#__codelineno-48-9"></a><span class="c1">// We want 15 parallel simulations with different GL context each</span>
<a id="__codelineno-48-10" name="__codelineno-48-10" href="#__codelineno-48-10"></a><span class="kt">size_t</span><span class="w"> </span><span class="n">N_workers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">15</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-48-11" name="__codelineno-48-11" href="#__codelineno-48-11"></a><span class="n">std</span><span class="o">::</span><span class="n">mutex</span><span class="w"> </span><span class="n">mutex</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-48-12" name="__codelineno-48-12" href="#__codelineno-48-12"></a><span class="kt">size_t</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-48-13" name="__codelineno-48-13" href="#__codelineno-48-13"></a><span class="c1">// Launch the workers</span>
<a id="__codelineno-48-14" name="__codelineno-48-14" href="#__codelineno-48-14"></a><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">N_workers</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-48-15" name="__codelineno-48-15" href="#__codelineno-48-15"></a><span class="w">    </span><span class="n">workers</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="kr">thread</span><span class="p">([</span><span class="o">&amp;</span><span class="p">]</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-48-16" name="__codelineno-48-16" href="#__codelineno-48-16"></a><span class="w">        </span><span class="n">mutex</span><span class="p">.</span><span class="n">lock</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-48-17" name="__codelineno-48-17" href="#__codelineno-48-17"></a><span class="w">        </span><span class="kt">size_t</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">id</span><span class="o">++</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-48-18" name="__codelineno-48-18" href="#__codelineno-48-18"></a><span class="w">        </span><span class="n">mutex</span><span class="p">.</span><span class="n">unlock</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-48-19" name="__codelineno-48-19" href="#__codelineno-48-19"></a>
<a id="__codelineno-48-20" name="__codelineno-48-20" href="#__codelineno-48-20"></a><span class="w">        </span><span class="c1">// Get the GL context -- this is a blocking call</span>
<a id="__codelineno-48-21" name="__codelineno-48-21" href="#__codelineno-48-21"></a><span class="w">        </span><span class="c1">// will wait until one GL context is available</span>
<a id="__codelineno-48-22" name="__codelineno-48-22" href="#__codelineno-48-22"></a><span class="w">        </span><span class="c1">// get_gl_context(gl_context); // this call will not sleep between failed queries</span>
<a id="__codelineno-48-23" name="__codelineno-48-23" href="#__codelineno-48-23"></a><span class="w">        </span><span class="n">get_gl_context_with_sleep</span><span class="p">(</span><span class="n">gl_context</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">);</span><span class="w"> </span><span class="c1">// this call will sleep 20ms between each failed query</span>
<a id="__codelineno-48-24" name="__codelineno-48-24" href="#__codelineno-48-24"></a>
<a id="__codelineno-48-25" name="__codelineno-48-25" href="#__codelineno-48-25"></a><span class="w">        </span><span class="c1">// Do the simulation</span>
<a id="__codelineno-48-26" name="__codelineno-48-26" href="#__codelineno-48-26"></a><span class="w">        </span><span class="k">auto</span><span class="w"> </span><span class="n">robot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">global_robot</span><span class="o">-&gt;</span><span class="n">clone</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-48-27" name="__codelineno-48-27" href="#__codelineno-48-27"></a>
<a id="__codelineno-48-28" name="__codelineno-48-28" href="#__codelineno-48-28"></a><span class="w">        </span><span class="n">robot_dart</span><span class="o">::</span><span class="n">RobotDARTSimu</span><span class="w"> </span><span class="nf">simu</span><span class="p">(</span><span class="mf">0.001</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-48-29" name="__codelineno-48-29" href="#__codelineno-48-29"></a>
<a id="__codelineno-48-30" name="__codelineno-48-30" href="#__codelineno-48-30"></a><span class="w">        </span><span class="n">Eigen</span><span class="o">::</span><span class="n">VectorXd</span><span class="w"> </span><span class="n">ctrl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">robot_dart</span><span class="o">::</span><span class="n">make_vector</span><span class="p">({</span><span class="mf">0.</span><span class="p">,</span><span class="w"> </span><span class="n">M_PI</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mf">3.</span><span class="p">,</span><span class="w"> </span><span class="mf">0.</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="n">M_PI</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mf">4.</span><span class="p">,</span><span class="w"> </span><span class="mf">0.</span><span class="p">,</span><span class="w"> </span><span class="mf">0.</span><span class="p">,</span><span class="w"> </span><span class="mf">0.</span><span class="p">});</span><span class="w"></span>
<a id="__codelineno-48-31" name="__codelineno-48-31" href="#__codelineno-48-31"></a>
<a id="__codelineno-48-32" name="__codelineno-48-32" href="#__codelineno-48-32"></a><span class="w">        </span><span class="k">auto</span><span class="w"> </span><span class="n">controller</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">make_shared</span><span class="o">&lt;</span><span class="n">robot_dart</span><span class="o">::</span><span class="n">control</span><span class="o">::</span><span class="n">PDControl</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ctrl</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-48-33" name="__codelineno-48-33" href="#__codelineno-48-33"></a><span class="w">        </span><span class="n">robot</span><span class="o">-&gt;</span><span class="n">add_controller</span><span class="p">(</span><span class="n">controller</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-48-34" name="__codelineno-48-34" href="#__codelineno-48-34"></a><span class="w">        </span><span class="n">controller</span><span class="o">-&gt;</span><span class="n">set_pd</span><span class="p">(</span><span class="mf">300.</span><span class="p">,</span><span class="w"> </span><span class="mf">50.</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-48-35" name="__codelineno-48-35" href="#__codelineno-48-35"></a>
<a id="__codelineno-48-36" name="__codelineno-48-36" href="#__codelineno-48-36"></a><span class="w">        </span><span class="c1">// Magnum graphics</span>
<a id="__codelineno-48-37" name="__codelineno-48-37" href="#__codelineno-48-37"></a><span class="w">        </span><span class="n">robot_dart</span><span class="o">::</span><span class="n">gui</span><span class="o">::</span><span class="n">magnum</span><span class="o">::</span><span class="n">GraphicsConfiguration</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">robot_dart</span><span class="o">::</span><span class="n">gui</span><span class="o">::</span><span class="n">magnum</span><span class="o">::</span><span class="n">WindowlessGraphics</span><span class="o">::</span><span class="n">default_configuration</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-48-38" name="__codelineno-48-38" href="#__codelineno-48-38"></a>
<a id="__codelineno-48-39" name="__codelineno-48-39" href="#__codelineno-48-39"></a><span class="w">        </span><span class="n">configuration</span><span class="p">.</span><span class="n">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1024</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-48-40" name="__codelineno-48-40" href="#__codelineno-48-40"></a><span class="w">        </span><span class="n">configuration</span><span class="p">.</span><span class="n">height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">768</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-48-41" name="__codelineno-48-41" href="#__codelineno-48-41"></a><span class="w">        </span><span class="k">auto</span><span class="w"> </span><span class="n">graphics</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">make_shared</span><span class="o">&lt;</span><span class="n">robot_dart</span><span class="o">::</span><span class="n">gui</span><span class="o">::</span><span class="n">magnum</span><span class="o">::</span><span class="n">WindowlessGraphics</span><span class="o">&gt;</span><span class="p">(</span><span class="n">configuration</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-48-42" name="__codelineno-48-42" href="#__codelineno-48-42"></a><span class="w">        </span><span class="n">simu</span><span class="p">.</span><span class="n">set_graphics</span><span class="p">(</span><span class="n">graphics</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-48-43" name="__codelineno-48-43" href="#__codelineno-48-43"></a><span class="w">        </span><span class="c1">// Position the camera differently for each thread to visualize the difference</span>
<a id="__codelineno-48-44" name="__codelineno-48-44" href="#__codelineno-48-44"></a><span class="w">        </span><span class="n">graphics</span><span class="o">-&gt;</span><span class="n">look_at</span><span class="p">({</span><span class="mf">0.4</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="mf">3.5</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">0.1</span><span class="p">,</span><span class="w"> </span><span class="mf">2.</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="mf">0.</span><span class="p">,</span><span class="w"> </span><span class="mf">0.</span><span class="p">,</span><span class="w"> </span><span class="mf">0.25</span><span class="p">});</span><span class="w"></span>
<a id="__codelineno-48-45" name="__codelineno-48-45" href="#__codelineno-48-45"></a><span class="w">        </span><span class="c1">// record images from main camera/graphics</span>
<a id="__codelineno-48-46" name="__codelineno-48-46" href="#__codelineno-48-46"></a><span class="w">        </span><span class="c1">// graphics-&gt;set_recording(true); // WindowlessGLApplication records images by default</span>
<a id="__codelineno-48-47" name="__codelineno-48-47" href="#__codelineno-48-47"></a>
<a id="__codelineno-48-48" name="__codelineno-48-48" href="#__codelineno-48-48"></a><span class="w">        </span><span class="n">simu</span><span class="p">.</span><span class="n">add_robot</span><span class="p">(</span><span class="n">robot</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-48-49" name="__codelineno-48-49" href="#__codelineno-48-49"></a><span class="w">        </span><span class="n">simu</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="mi">6</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-48-50" name="__codelineno-48-50" href="#__codelineno-48-50"></a>
<a id="__codelineno-48-51" name="__codelineno-48-51" href="#__codelineno-48-51"></a><span class="w">        </span><span class="c1">// Save the image for verification</span>
<a id="__codelineno-48-52" name="__codelineno-48-52" href="#__codelineno-48-52"></a><span class="w">        </span><span class="n">robot_dart</span><span class="o">::</span><span class="n">gui</span><span class="o">::</span><span class="n">save_png_image</span><span class="p">(</span><span class="s">&quot;camera_&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">to_string</span><span class="p">(</span><span class="n">index</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;.png&quot;</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-48-53" name="__codelineno-48-53" href="#__codelineno-48-53"></a><span class="w">            </span><span class="n">graphics</span><span class="o">-&gt;</span><span class="n">image</span><span class="p">());</span><span class="w"></span>
<a id="__codelineno-48-54" name="__codelineno-48-54" href="#__codelineno-48-54"></a>
<a id="__codelineno-48-55" name="__codelineno-48-55" href="#__codelineno-48-55"></a><span class="w">        </span><span class="c1">// Release the GL context for another thread to use</span>
<a id="__codelineno-48-56" name="__codelineno-48-56" href="#__codelineno-48-56"></a><span class="w">        </span><span class="n">release_gl_context</span><span class="p">(</span><span class="n">gl_context</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-48-57" name="__codelineno-48-57" href="#__codelineno-48-57"></a><span class="w">    </span><span class="p">}));</span><span class="w"></span>
<a id="__codelineno-48-58" name="__codelineno-48-58" href="#__codelineno-48-58"></a><span class="p">}</span><span class="w"></span>
<a id="__codelineno-48-59" name="__codelineno-48-59" href="#__codelineno-48-59"></a>
<a id="__codelineno-48-60" name="__codelineno-48-60" href="#__codelineno-48-60"></a><span class="c1">// Wait for all the workers</span>
<a id="__codelineno-48-61" name="__codelineno-48-61" href="#__codelineno-48-61"></a><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">workers</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-48-62" name="__codelineno-48-62" href="#__codelineno-48-62"></a><span class="w">    </span><span class="n">workers</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">join</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-48-63" name="__codelineno-48-63" href="#__codelineno-48-63"></a><span class="p">}</span><span class="w"></span>
</code></pre></div></p>
<h2 id="i-do-not-know-how-to-use-waf-how-can-i-detect-robotdart-from-cmake"><strong>I do not know how to use waf. How can I detect RobotDART from CMake?</strong><a class="headerlink" href="#i-do-not-know-how-to-use-waf-how-can-i-detect-robotdart-from-cmake" title="Permanent link">&para;</a></h2>
<p>You need to use <code>waf</code> to build RobotDART, but when installing the library a CMake module is installed. Thus it is possible use RobotDART in your code using CMake. You can find a complete example at <a href="https://github.com/resibots/robot_dart/blob/master/cmake/example">cmake/example</a>. In short the CMake would look like this:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a><span class="nb">cmake_minimum_required</span><span class="p">(</span><span class="s">VERSION</span><span class="w"> </span><span class="s">3.10</span><span class="w"> </span><span class="s">FATAL_ERROR</span><span class="p">)</span>
<a id="__codelineno-49-2" name="__codelineno-49-2" href="#__codelineno-49-2"></a><span class="nb">project</span><span class="p">(</span><span class="s">robot_dart_example</span><span class="p">)</span>
<a id="__codelineno-49-3" name="__codelineno-49-3" href="#__codelineno-49-3"></a><span class="c"># we ask for Magnum because we want to build the graphics</span>
<a id="__codelineno-49-4" name="__codelineno-49-4" href="#__codelineno-49-4"></a><span class="nb">find_package</span><span class="p">(</span><span class="s">RobotDART</span><span class="w"> </span><span class="s">REQUIRED</span><span class="w"> </span><span class="s">OPTIONAL_COMPONENTS</span><span class="w"> </span><span class="s">Magnum</span><span class="p">)</span>
<a id="__codelineno-49-5" name="__codelineno-49-5" href="#__codelineno-49-5"></a>
<a id="__codelineno-49-6" name="__codelineno-49-6" href="#__codelineno-49-6"></a><span class="nb">add_executable</span><span class="p">(</span><span class="s">robot_dart_example</span><span class="w"> </span><span class="s">example.cpp</span><span class="p">)</span>
<a id="__codelineno-49-7" name="__codelineno-49-7" href="#__codelineno-49-7"></a>
<a id="__codelineno-49-8" name="__codelineno-49-8" href="#__codelineno-49-8"></a><span class="nb">target_link_libraries</span><span class="p">(</span><span class="s">robot_dart_example</span>
<a id="__codelineno-49-9" name="__codelineno-49-9" href="#__codelineno-49-9"></a><span class="w">   </span><span class="s">RobotDART::Simu</span>
<a id="__codelineno-49-10" name="__codelineno-49-10" href="#__codelineno-49-10"></a><span class="p">)</span>
<a id="__codelineno-49-11" name="__codelineno-49-11" href="#__codelineno-49-11"></a>
<a id="__codelineno-49-12" name="__codelineno-49-12" href="#__codelineno-49-12"></a><span class="nb">if</span><span class="p">(</span><span class="s">RobotDART_Magnum_FOUND</span><span class="p">)</span>
<a id="__codelineno-49-13" name="__codelineno-49-13" href="#__codelineno-49-13"></a><span class="w">  </span><span class="nb">add_executable</span><span class="p">(</span><span class="s">robot_dart_example_graphics</span><span class="w"> </span><span class="s">example.cpp</span><span class="p">)</span>
<a id="__codelineno-49-14" name="__codelineno-49-14" href="#__codelineno-49-14"></a><span class="w">  </span><span class="nb">target_link_libraries</span><span class="p">(</span><span class="s">robot_dart_example_graphics</span>
<a id="__codelineno-49-15" name="__codelineno-49-15" href="#__codelineno-49-15"></a><span class="w">    </span><span class="s">RobotDART::Simu</span>
<a id="__codelineno-49-16" name="__codelineno-49-16" href="#__codelineno-49-16"></a><span class="w">    </span><span class="s">RobotDART::Magnum</span>
<a id="__codelineno-49-17" name="__codelineno-49-17" href="#__codelineno-49-17"></a><span class="w">  </span><span class="p">)</span>
<a id="__codelineno-49-18" name="__codelineno-49-18" href="#__codelineno-49-18"></a><span class="nb">endif</span><span class="p">()</span>
</code></pre></div>
<h2 id="i-prefer-coding-in-python-how-can-i-use-robotdart"><strong>I prefer coding in python. How can I use RobotDART?</strong><a class="headerlink" href="#i-prefer-coding-in-python-how-can-i-use-robotdart" title="Permanent link">&para;</a></h2>
<p>RobotDART comes with python bindinds. Please refer to the <a href="../install/">installation page</a> to see how to install them. Once the python bindings are installed, we can use RobotDART from python! An example is available at <a href="https://github.com/resibots/robot_dart/blob/master/src/python/example.py">example.py</a>. There is mostly an one-to-one mapping between C++ and python objects and functions.</p>

              
            </article>
            
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    
      
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../robots/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Supported robots" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Supported robots
            </div>
          </div>
        </a>
      
      
        
        <a href="../install/" class="md-footer__link md-footer__link--next" aria-label="Next: Install" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Install
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Konstantinos Chatzilygeroudis, Dionis Totsila, Jean-Baptiste Mouret
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.top", "navigation.instant", "content.tabs.link", "content.code.annotate", "toc.follow"], "search": "../assets/javascripts/workers/search.b97dbffb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.0238f547.min.js"></script>
      
        <script src="../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>